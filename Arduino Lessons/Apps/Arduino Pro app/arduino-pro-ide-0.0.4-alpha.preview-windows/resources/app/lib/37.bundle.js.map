{"version":3,"sources":["webpack:///./node_modules/@theia/task/src/browser/process/process-task-contribution.ts","webpack:///./node_modules/@theia/task/src/browser/process/process-task-frontend-module.ts","webpack:///./node_modules/@theia/task/src/browser/process/process-task-resolver.ts","webpack:///./node_modules/@theia/task/src/browser/provided-task-configurations.ts","webpack:///./node_modules/@theia/task/src/browser/quick-open-task.ts","webpack:///./node_modules/@theia/task/src/browser/task-action-provider.ts","webpack:///./node_modules/@theia/task/src/browser/task-configuration-manager.ts","webpack:///./node_modules/@theia/task/src/browser/task-configuration-model.ts","webpack:///./node_modules/@theia/task/src/browser/task-configurations.ts","webpack:///./node_modules/@theia/task/src/browser/task-folder-preference-provider.ts","webpack:///./node_modules/@theia/task/src/browser/task-frontend-contribution.ts","webpack:///./node_modules/@theia/task/src/browser/task-frontend-module.ts","webpack:///./node_modules/@theia/task/src/browser/task-name-resolver.ts","webpack:///./node_modules/@theia/task/src/browser/task-preferences.ts","webpack:///./node_modules/@theia/task/src/browser/task-schema-updater.ts","webpack:///./node_modules/@theia/task/src/browser/task-service.ts","webpack:///./node_modules/@theia/task/src/browser/task-source-resolver.ts","webpack:///./node_modules/@theia/task/src/browser/task-templates.ts","webpack:///./node_modules/@theia/task/src/browser/tasks-monaco-contribution.ts","webpack:///./node_modules/@theia/task/src/common/task-common-module.ts","webpack:///./node_modules/@theia/task/src/browser/style/configure-inverse.svg","webpack:///./node_modules/@theia/task/src/browser/style/configure.svg","webpack:///./node_modules/@theia/task/src/browser/style/index.css?19c9","webpack:///./node_modules/@theia/variable-resolver/src/browser/variable-input-schema.ts","webpack:///./node_modules/@theia/task/src/browser/style/index.css","webpack:///./node_modules/p-debounce/index.js"],"names":[],"mappings":"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","file":"37.bundle.js","sourcesContent":["/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable, inject } from 'inversify';\nimport { ProcessTaskResolver } from './process-task-resolver';\nimport { TaskContribution, TaskResolverRegistry } from '../task-contribution';\n\n@injectable()\nexport class ProcessTaskContribution implements TaskContribution {\n\n    @inject(ProcessTaskResolver)\n    protected readonly processTaskResolver: ProcessTaskResolver;\n\n    registerResolvers(resolvers: TaskResolverRegistry): void {\n        resolvers.register('process', this.processTaskResolver);\n        resolvers.register('shell', this.processTaskResolver);\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { interfaces } from 'inversify';\nimport { ProcessTaskContribution } from './process-task-contribution';\nimport { ProcessTaskResolver } from './process-task-resolver';\nimport { TaskContribution } from '../task-contribution';\n\nexport function bindProcessTaskModule(bind: interfaces.Bind): void {\n\n    bind(ProcessTaskResolver).toSelf().inSingletonScope();\n    bind(ProcessTaskContribution).toSelf().inSingletonScope();\n    bind(TaskContribution).toService(ProcessTaskContribution);\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable, inject } from 'inversify';\nimport { VariableResolverService } from '@theia/variable-resolver/lib/browser';\nimport { TaskResolver } from '../task-contribution';\nimport { TaskConfiguration } from '../../common/task-protocol';\nimport { ProcessTaskConfiguration } from '../../common/process/task-protocol';\nimport { TaskDefinitionRegistry } from '../task-definition-registry';\nimport URI from '@theia/core/lib/common/uri';\n\n@injectable()\nexport class ProcessTaskResolver implements TaskResolver {\n\n    @inject(VariableResolverService)\n    protected readonly variableResolverService: VariableResolverService;\n\n    @inject(TaskDefinitionRegistry)\n    protected readonly taskDefinitionRegistry: TaskDefinitionRegistry;\n\n    /**\n     * Perform some adjustments to the task launch configuration, before sending\n     * it to the backend to be executed. We can make sure that parameters that\n     * are optional to the user but required by the server will be defined, with\n     * sane default values. Also, resolve all known variables, e.g. `${workspaceFolder}`.\n     */\n    async resolveTask(taskConfig: TaskConfiguration): Promise<TaskConfiguration> {\n        if (taskConfig.type !== 'process' && taskConfig.type !== 'shell') {\n            throw new Error('Unsupported task configuration type.');\n        }\n        const context = new URI(this.taskDefinitionRegistry.getDefinition(taskConfig) ? taskConfig.scope : taskConfig._source).withScheme('file');\n        const variableResolverOptions = {\n            context, configurationSection: 'tasks'\n        };\n        const processTaskConfig = taskConfig as ProcessTaskConfiguration;\n        const result: ProcessTaskConfiguration = {\n            ...processTaskConfig,\n            command: await this.variableResolverService.resolve(processTaskConfig.command, variableResolverOptions),\n            args: processTaskConfig.args ? await this.variableResolverService.resolveArray(processTaskConfig.args, variableResolverOptions) : undefined,\n            windows: processTaskConfig.windows ? {\n                command: await this.variableResolverService.resolve(processTaskConfig.windows.command, variableResolverOptions),\n                args: processTaskConfig.windows.args ? await this.variableResolverService.resolveArray(processTaskConfig.windows.args, variableResolverOptions) : undefined,\n                options: processTaskConfig.windows.options\n            } : undefined,\n            osx: processTaskConfig.osx ? {\n                command: await this.variableResolverService.resolve(processTaskConfig.osx.command, variableResolverOptions),\n                args: processTaskConfig.osx.args ? await this.variableResolverService.resolveArray(processTaskConfig.osx.args, variableResolverOptions) : undefined,\n                options: processTaskConfig.osx.options\n            } : undefined,\n            linux: processTaskConfig.linux ? {\n                command: await this.variableResolverService.resolve(processTaskConfig.linux.command, variableResolverOptions),\n                args: processTaskConfig.linux.args ? await this.variableResolverService.resolveArray(processTaskConfig.linux.args, variableResolverOptions) : undefined,\n                options: processTaskConfig.linux.options\n            } : undefined,\n            options: {\n                cwd: await this.variableResolverService.resolve(processTaskConfig.options && processTaskConfig.options.cwd || '${workspaceFolder}', variableResolverOptions),\n                env: processTaskConfig.options && processTaskConfig.options.env,\n                shell: processTaskConfig.options && processTaskConfig.options.shell\n            }\n        };\n        return result;\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2019 Ericsson and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { inject, injectable } from 'inversify';\nimport { TaskProviderRegistry } from './task-contribution';\nimport { TaskDefinitionRegistry } from './task-definition-registry';\nimport { TaskConfiguration, TaskCustomization } from '../common';\nimport URI from '@theia/core/lib/common/uri';\n\n@injectable()\nexport class ProvidedTaskConfigurations {\n\n    /**\n     * Map of source (name of extension, or path of root folder that the task config comes from) and `task config map`.\n     * For the inner map (i.e., `task config map`), the key is task label and value TaskConfiguration\n     */\n    protected tasksMap = new Map<string, Map<string, TaskConfiguration>>();\n\n    @inject(TaskProviderRegistry)\n    protected readonly taskProviderRegistry: TaskProviderRegistry;\n\n    @inject(TaskDefinitionRegistry)\n    protected readonly taskDefinitionRegistry: TaskDefinitionRegistry;\n\n    /** returns a list of provided tasks */\n    async getTasks(): Promise<TaskConfiguration[]> {\n        const providers = await this.taskProviderRegistry.getProviders();\n        const providedTasks: TaskConfiguration[] = (await Promise.all(providers.map(p => p.provideTasks())))\n            .reduce((acc, taskArray) => acc.concat(taskArray), []);\n        this.cacheTasks(providedTasks);\n        return providedTasks;\n    }\n\n    /** returns the task configuration for a given source and label or undefined if none */\n    async getTask(source: string, taskLabel: string): Promise<TaskConfiguration | undefined> {\n        const task = this.getCachedTask(source, taskLabel);\n        if (task) {\n            return task;\n        } else {\n            await this.getTasks();\n            return this.getCachedTask(source, taskLabel);\n        }\n    }\n\n    /**\n     * Finds the detected task for the given task customization.\n     * The detected task is considered as a \"match\" to the task customization if it has all the `required` properties.\n     * In case that more than one customization is found, return the one that has the biggest number of matched properties.\n     *\n     * @param customization the task customization\n     * @return the detected task for the given task customization. If the task customization is not found, `undefined` is returned.\n     */\n    async getTaskToCustomize(customization: TaskCustomization, rootFolderPath: string): Promise<TaskConfiguration | undefined> {\n        const definition = this.taskDefinitionRegistry.getDefinition(customization);\n        if (!definition) {\n            return undefined;\n        }\n\n        const matchedTasks: TaskConfiguration[] = [];\n        let highest = -1;\n        const tasks = await this.getTasks();\n        for (const task of tasks) { // find detected tasks that match the `definition`\n            let score = 0;\n            if (!definition.properties.required.every(requiredProp => customization[requiredProp] !== undefined)) {\n                continue;\n            }\n            score += definition.properties.required.length; // number of required properties\n            const requiredProps = new Set(definition.properties.required);\n            // number of optional properties\n            score += definition.properties.all.filter(p => !requiredProps.has(p) && customization[p] !== undefined).length;\n            if (score >= highest) {\n                if (score > highest) {\n                    highest = score;\n                    matchedTasks.length = 0;\n                }\n                matchedTasks.push(task);\n            }\n        }\n\n        // find the task that matches the `customization`.\n        // The scenario where more than one match is found should not happen unless users manually enter multiple customizations for one type of task\n        // If this does happen, return the first match\n        const rootFolderUri = new URI(rootFolderPath).toString();\n        const matchedTask = matchedTasks.filter(t =>\n            rootFolderUri === t._scope && definition.properties.all.every(p => t[p] === customization[p])\n        )[0];\n        return matchedTask;\n    }\n\n    protected getCachedTask(source: string, taskLabel: string): TaskConfiguration | undefined {\n        const labelConfigMap = this.tasksMap.get(source);\n        if (labelConfigMap) {\n            return labelConfigMap.get(taskLabel);\n        }\n    }\n\n    protected cacheTasks(tasks: TaskConfiguration[]): void {\n        for (const task of tasks) {\n            const label = task.label;\n            const source = task._source;\n            if (this.tasksMap.has(source)) {\n                this.tasksMap.get(source)!.set(label, task);\n            } else {\n                const labelTaskMap = new Map<string, TaskConfiguration>();\n                labelTaskMap.set(label, task);\n                this.tasksMap.set(source, labelTaskMap);\n            }\n        }\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2017 Ericsson and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { inject, injectable } from 'inversify';\nimport { TaskService } from './task-service';\nimport { TaskInfo, TaskConfiguration, TaskCustomization } from '../common/task-protocol';\nimport { TaskDefinitionRegistry } from './task-definition-registry';\nimport URI from '@theia/core/lib/common/uri';\nimport { TaskActionProvider } from './task-action-provider';\nimport { QuickOpenHandler, QuickOpenService, QuickOpenOptions } from '@theia/core/lib/browser';\nimport { WorkspaceService } from '@theia/workspace/lib/browser';\nimport { TerminalService } from '@theia/terminal/lib/browser/base/terminal-service';\nimport { FileSystem } from '@theia/filesystem/lib/common';\nimport { QuickOpenModel, QuickOpenItem, QuickOpenActionProvider, QuickOpenMode, QuickOpenGroupItem, QuickOpenGroupItemOptions } from '@theia/core/lib/common/quick-open-model';\nimport { PreferenceService } from '@theia/core/lib/browser';\nimport { TaskNameResolver } from './task-name-resolver';\nimport { TaskConfigurationManager } from './task-configuration-manager';\n\n@injectable()\nexport class QuickOpenTask implements QuickOpenModel, QuickOpenHandler {\n\n    protected items: QuickOpenItem[];\n    protected actionProvider: QuickOpenActionProvider | undefined;\n\n    readonly prefix: string = 'task ';\n\n    readonly description: string = 'Run Task';\n\n    @inject(TaskService)\n    protected readonly taskService: TaskService;\n\n    @inject(QuickOpenService)\n    protected readonly quickOpenService: QuickOpenService;\n\n    @inject(TaskActionProvider)\n    protected readonly taskActionProvider: TaskActionProvider;\n\n    @inject(WorkspaceService)\n    protected readonly workspaceService: WorkspaceService;\n\n    @inject(TaskDefinitionRegistry)\n    protected readonly taskDefinitionRegistry: TaskDefinitionRegistry;\n\n    @inject(TaskNameResolver)\n    protected readonly taskNameResolver: TaskNameResolver;\n\n    @inject(FileSystem)\n    protected readonly fileSystem: FileSystem;\n\n    @inject(TaskConfigurationManager)\n    protected readonly taskConfigurationManager: TaskConfigurationManager;\n\n    @inject(PreferenceService)\n    protected readonly preferences: PreferenceService;\n\n    /** Initialize this quick open model with the tasks. */\n    async init(): Promise<void> {\n        const recentTasks = this.taskService.recentTasks;\n        const configuredTasks = await this.taskService.getConfiguredTasks();\n        const providedTasks = await this.taskService.getProvidedTasks();\n\n        const { filteredRecentTasks, filteredConfiguredTasks, filteredProvidedTasks } = this.getFilteredTasks(recentTasks, configuredTasks, providedTasks);\n        const isMulti: boolean = this.workspaceService.isMultiRootWorkspaceOpened;\n        this.items = [];\n        this.items.push(\n            ...filteredRecentTasks.map((task, index) => {\n                const item = new TaskRunQuickOpenItem(task, this.taskService, isMulti, {\n                    groupLabel: index === 0 ? 'recently used tasks' : undefined,\n                    showBorder: false\n                }, this.taskNameResolver);\n                item['taskDefinitionRegistry'] = this.taskDefinitionRegistry;\n                return item;\n            }),\n            ...filteredConfiguredTasks.map((task, index) => {\n                const item = new TaskRunQuickOpenItem(task, this.taskService, isMulti, {\n                    groupLabel: index === 0 ? 'configured tasks' : undefined,\n                    showBorder: (\n                        filteredRecentTasks.length <= 0\n                            ? false\n                            : index === 0 ? true : false\n                    )\n                }, this.taskNameResolver);\n                item['taskDefinitionRegistry'] = this.taskDefinitionRegistry;\n                return item;\n            }),\n            ...filteredProvidedTasks.map((task, index) => {\n                const item = new TaskRunQuickOpenItem(task, this.taskService, isMulti, {\n                    groupLabel: index === 0 ? 'detected tasks' : undefined,\n                    showBorder: (\n                        filteredRecentTasks.length <= 0 && filteredConfiguredTasks.length <= 0\n                            ? false\n                            : index === 0 ? true : false\n                    )\n                }, this.taskNameResolver);\n                item['taskDefinitionRegistry'] = this.taskDefinitionRegistry;\n                return item;\n            })\n        );\n\n        this.actionProvider = this.items.length ? this.taskActionProvider : undefined;\n    }\n\n    async open(): Promise<void> {\n        await this.init();\n        if (!this.items.length) {\n            this.items.push(new QuickOpenItem({\n                label: 'No task to run found. Configure Tasks...',\n                run: (mode: QuickOpenMode): boolean => {\n                    if (mode !== QuickOpenMode.OPEN) {\n                        return false;\n                    }\n                    this.configure();\n                    return true;\n                }\n            }));\n        }\n        this.quickOpenService.open(this, {\n            placeholder: 'Select the task to run',\n            fuzzyMatchLabel: true,\n            fuzzySort: false\n        });\n    }\n\n    getModel(): QuickOpenModel {\n        return this;\n    }\n\n    getOptions(): QuickOpenOptions {\n        return {\n            fuzzyMatchLabel: true,\n            fuzzySort: false\n        };\n    }\n\n    attach(): void {\n        this.items = [];\n        this.actionProvider = undefined;\n\n        this.taskService.getRunningTasks().then(tasks => {\n            if (!tasks.length) {\n                this.items.push(new QuickOpenItem({\n                    label: 'No tasks found',\n                    run: (_mode: QuickOpenMode): boolean => false\n                }));\n            }\n            for (const task of tasks) {\n                // can only attach to terminal processes, so only list those\n                if (task.terminalId) {\n                    this.items.push(\n                        new TaskAttachQuickOpenItem(\n                            task,\n                            this.getRunningTaskLabel(task),\n                            this.taskService\n                        )\n                    );\n                }\n            }\n            this.quickOpenService.open(this, {\n                placeholder: 'Choose task to open',\n                fuzzyMatchLabel: true,\n                fuzzySort: true\n            });\n        });\n    }\n\n    async configure(): Promise<void> {\n        this.items = [];\n        this.actionProvider = undefined;\n        const isMulti: boolean = this.workspaceService.isMultiRootWorkspaceOpened;\n\n        const configuredTasks = await this.taskService.getConfiguredTasks();\n        const providedTasks = await this.taskService.getProvidedTasks();\n\n        // check if tasks.json exists. If not, display \"Create tasks.json file from template\"\n        // If tasks.json exists and empty, display 'Open tasks.json file'\n        let isFirstGroup = true;\n        const { filteredConfiguredTasks, filteredProvidedTasks } = this.getFilteredTasks([], configuredTasks, providedTasks);\n        const groupedTasks = this.getGroupedTasksByWorkspaceFolder([...filteredConfiguredTasks, ...filteredProvidedTasks]);\n        if (groupedTasks.has(undefined)) {\n            const configs = groupedTasks.get(undefined)!;\n            this.items.push(\n                ...configs.map(taskConfig => {\n                    const item = new TaskConfigureQuickOpenItem(\n                        taskConfig,\n                        this.taskService,\n                        this.taskNameResolver,\n                        this.workspaceService,\n                        isMulti,\n                        { showBorder: false }\n                    );\n                    item['taskDefinitionRegistry'] = this.taskDefinitionRegistry;\n                    return item;\n                })\n            );\n            isFirstGroup = false;\n        }\n\n        const rootUris = (await this.workspaceService.roots).map(rootStat => rootStat.uri);\n        for (const rootFolder of rootUris) {\n            const uri = new URI(rootFolder).withScheme('file');\n            const folderName = uri.displayName;\n            if (groupedTasks.has(uri.toString())) {\n                const configs = groupedTasks.get(uri.toString())!;\n                this.items.push(\n                    ...configs.map((taskConfig, index) => {\n                        const item = new TaskConfigureQuickOpenItem(\n                            taskConfig,\n                            this.taskService,\n                            this.taskNameResolver,\n                            this.workspaceService,\n                            isMulti,\n                            {\n                                groupLabel: index === 0 && isMulti ? folderName : '',\n                                showBorder: !isFirstGroup && index === 0\n                            }\n                        );\n                        item['taskDefinitionRegistry'] = this.taskDefinitionRegistry;\n                        return item;\n                    })\n                );\n            } else {\n                const { configUri } = this.preferences.resolve('tasks', [], uri.toString());\n                const existTaskConfigFile = !!configUri;\n                this.items.push(new QuickOpenGroupItem({\n                    label: existTaskConfigFile ? 'Open tasks.json file' : 'Create tasks.json file from template',\n                    run: (mode: QuickOpenMode): boolean => {\n                        if (mode !== QuickOpenMode.OPEN) {\n                            return false;\n                        }\n                        setTimeout(() => this.taskConfigurationManager.openConfiguration(uri.toString()));\n                        return true;\n                    },\n                    showBorder: !isFirstGroup,\n                    groupLabel: isMulti ? folderName : ''\n                }));\n            }\n            isFirstGroup = false;\n        }\n\n        if (this.items.length === 0) {\n            this.items.push(new QuickOpenItem({\n                label: 'No tasks found',\n                run: (_mode: QuickOpenMode): boolean => false\n            }));\n        }\n\n        this.quickOpenService.open(this, {\n            placeholder: 'Select a task to configure',\n            fuzzyMatchLabel: true,\n            fuzzySort: false\n        });\n    }\n\n    async runBuildOrTestTask(buildOrTestType: 'build' | 'test'): Promise<void> {\n        const shouldRunBuildTask = buildOrTestType === 'build';\n        await this.init();\n        if (this.items.length > 1 ||\n            this.items.length === 1 && (this.items[0] as TaskRunQuickOpenItem).getTask !== undefined) { // the item in `this.items` is not 'No tasks found'\n\n            const buildOrTestTasks = this.items.filter((t: TaskRunQuickOpenItem) =>\n                shouldRunBuildTask ? TaskCustomization.isBuildTask(t.getTask()) : TaskCustomization.isTestTask(t.getTask())\n            );\n            this.actionProvider = undefined;\n            if (buildOrTestTasks.length > 0) { // build / test tasks are defined in the workspace\n                const defaultBuildOrTestTasks = buildOrTestTasks.filter((t: TaskRunQuickOpenItem) =>\n                    shouldRunBuildTask ? TaskCustomization.isDefaultBuildTask(t.getTask()) : TaskCustomization.isDefaultTestTask(t.getTask())\n                );\n                if (defaultBuildOrTestTasks.length === 1) { // run the default build / test task\n                    const defaultBuildOrTestTask = defaultBuildOrTestTasks[0];\n                    const taskToRun = (defaultBuildOrTestTask as TaskRunQuickOpenItem).getTask();\n                    if (this.taskDefinitionRegistry && !!this.taskDefinitionRegistry.getDefinition(taskToRun)) {\n                        this.taskService.run(taskToRun.source, taskToRun.label);\n                    } else {\n                        this.taskService.run(taskToRun._source, taskToRun.label);\n                    }\n                    return;\n                }\n\n                // if default build / test task is not found, or there are more than one default,\n                // display the list of build /test tasks to let the user decide which to run\n                this.items = buildOrTestTasks;\n\n            } else { // no build / test tasks, display an action item to configure the build / test task\n                this.items = [new QuickOpenItem({\n                    label: `No ${buildOrTestType} task to run found. Configure ${buildOrTestType.charAt(0).toUpperCase() + buildOrTestType.slice(1)} Task...`,\n                    run: (mode: QuickOpenMode): boolean => {\n                        if (mode !== QuickOpenMode.OPEN) {\n                            return false;\n                        }\n\n                        this.init().then(() => {\n                            // update the `tasks.json` file, instead of running the task itself\n                            this.items = this.items.map((item: TaskRunQuickOpenItem) => {\n                                const newItem = new ConfigureBuildOrTestTaskQuickOpenItem(\n                                    item.getTask(),\n                                    this.taskService,\n                                    this.workspaceService.isMultiRootWorkspaceOpened,\n                                    item.options,\n                                    this.taskNameResolver,\n                                    shouldRunBuildTask,\n                                    this.taskConfigurationManager\n                                );\n                                newItem['taskDefinitionRegistry'] = this.taskDefinitionRegistry;\n                                return newItem;\n                            });\n                            this.quickOpenService.open(this, {\n                                placeholder: `Select the task to be used as the default ${buildOrTestType} task`,\n                                fuzzyMatchLabel: true,\n                                fuzzySort: false\n                            });\n                        });\n\n                        return true;\n                    }\n                })];\n            }\n        } else { // no tasks are currently present, prompt users if they'd like to configure a task.\n            this.items = [\n                new QuickOpenItem({\n                    label: `No ${buildOrTestType} task to run found. Configure ${buildOrTestType.charAt(0).toUpperCase() + buildOrTestType.slice(1)} Task...`,\n                    run: (mode: QuickOpenMode): boolean => {\n                        if (mode !== QuickOpenMode.OPEN) {\n                            return false;\n                        }\n                        this.configure();\n                        return true;\n                    }\n                })\n            ];\n        }\n\n        this.quickOpenService.open(this, {\n            placeholder: `Select the ${buildOrTestType} task to run`,\n            fuzzyMatchLabel: true,\n            fuzzySort: false\n        });\n    }\n\n    onType(lookFor: string, acceptor: (items: QuickOpenItem[], actionProvider?: QuickOpenActionProvider) => void): void {\n        acceptor(this.items, this.actionProvider);\n    }\n\n    protected getRunningTaskLabel(task: TaskInfo): string {\n        return `Task id: ${task.taskId}, label: ${task.config.label}`;\n    }\n\n    private getFilteredTasks(recentTasks: TaskConfiguration[], configuredTasks: TaskConfiguration[], providedTasks: TaskConfiguration[])\n        : { filteredRecentTasks: TaskConfiguration[], filteredConfiguredTasks: TaskConfiguration[], filteredProvidedTasks: TaskConfiguration[] } {\n\n        const filteredRecentTasks: TaskConfiguration[] = [];\n        recentTasks.forEach(recent => {\n            const originalTaskConfig = [...configuredTasks, ...providedTasks].find(t => this.taskDefinitionRegistry.compareTasks(recent, t));\n            if (originalTaskConfig) {\n                filteredRecentTasks.push(originalTaskConfig);\n            }\n        });\n\n        const filteredProvidedTasks: TaskConfiguration[] = [];\n        providedTasks.forEach(provided => {\n            const exist = [...filteredRecentTasks, ...configuredTasks].some(t => this.taskDefinitionRegistry.compareTasks(provided, t));\n            if (!exist) {\n                filteredProvidedTasks.push(provided);\n            }\n        });\n\n        const filteredConfiguredTasks: TaskConfiguration[] = [];\n        configuredTasks.forEach(configured => {\n            const exist = filteredRecentTasks.some(t => this.taskDefinitionRegistry.compareTasks(configured, t));\n            if (!exist) {\n                filteredConfiguredTasks.push(configured);\n            }\n        });\n\n        return {\n            filteredRecentTasks, filteredConfiguredTasks, filteredProvidedTasks\n        };\n    }\n\n    private getGroupedTasksByWorkspaceFolder(tasks: TaskConfiguration[]): Map<string | undefined, TaskConfiguration[]> {\n        const grouped = new Map<string | undefined, TaskConfiguration[]>();\n        for (const task of tasks) {\n            const folder = task._scope;\n            if (grouped.has(folder)) {\n                grouped.get(folder)!.push(task);\n            } else {\n                grouped.set(folder, [task]);\n            }\n        }\n        for (const taskConfigs of grouped.values()) {\n            taskConfigs.sort((t1, t2) => t1.label.localeCompare(t2.label));\n        }\n        return grouped;\n    }\n}\n\nexport class TaskRunQuickOpenItem extends QuickOpenGroupItem {\n\n    protected taskDefinitionRegistry: TaskDefinitionRegistry;\n\n    constructor(\n        protected readonly task: TaskConfiguration,\n        protected taskService: TaskService,\n        protected isMulti: boolean,\n        public readonly options: QuickOpenGroupItemOptions,\n        protected readonly taskNameResolver: TaskNameResolver,\n    ) {\n        super(options);\n    }\n\n    getTask(): TaskConfiguration {\n        return this.task;\n    }\n\n    getLabel(): string {\n        return this.taskNameResolver.resolve(this.task);\n    }\n\n    getGroupLabel(): string {\n        return this.options.groupLabel || '';\n    }\n\n    getDescription(): string {\n        if (!this.isMulti) {\n            return '';\n        }\n        if (this.taskDefinitionRegistry && !!this.taskDefinitionRegistry.getDefinition(this.task)) {\n            if (this.task._scope) {\n                return new URI(this.task._scope).displayName;\n            }\n            return this.task._source;\n        } else {\n            return new URI(this.task._source).displayName;\n        }\n\n    }\n\n    run(mode: QuickOpenMode): boolean {\n        if (mode !== QuickOpenMode.OPEN) {\n            return false;\n        }\n\n        if (this.taskDefinitionRegistry && !!this.taskDefinitionRegistry.getDefinition(this.task)) {\n            this.taskService.run(this.task.source || this.task._source, this.task.label);\n        } else {\n            this.taskService.run(this.task._source, this.task.label);\n        }\n        return true;\n    }\n}\n\nexport class ConfigureBuildOrTestTaskQuickOpenItem extends TaskRunQuickOpenItem {\n    constructor(\n        protected readonly task: TaskConfiguration,\n        protected taskService: TaskService,\n        protected isMulti: boolean,\n        public readonly options: QuickOpenGroupItemOptions,\n        protected readonly taskNameResolver: TaskNameResolver,\n        protected readonly isBuildTask: boolean,\n        protected taskConfigurationManager: TaskConfigurationManager\n    ) {\n        super(task, taskService, isMulti, options, taskNameResolver);\n    }\n\n    run(mode: QuickOpenMode): boolean {\n        if (mode !== QuickOpenMode.OPEN) {\n            return false;\n        }\n        this.taskService.updateTaskConfiguration(this.task, { group: { kind: this.isBuildTask ? 'build' : 'test', isDefault: true } })\n            .then(() => {\n                if (this.task._scope) {\n                    this.taskConfigurationManager.openConfiguration(this.task._scope);\n                }\n            });\n        return true;\n    }\n}\n\nexport class TaskAttachQuickOpenItem extends QuickOpenItem {\n\n    constructor(\n        protected readonly task: TaskInfo,\n        protected readonly taskLabel: string,\n        protected taskService: TaskService\n    ) {\n        super();\n    }\n\n    getLabel(): string {\n        return this.taskLabel!;\n    }\n\n    run(mode: QuickOpenMode): boolean {\n        if (mode !== QuickOpenMode.OPEN) {\n            return false;\n        }\n        if (this.task.terminalId) {\n            this.taskService.attach(this.task.terminalId, this.task.taskId);\n        }\n        return true;\n    }\n}\nexport class TaskConfigureQuickOpenItem extends QuickOpenGroupItem {\n\n    protected taskDefinitionRegistry: TaskDefinitionRegistry;\n\n    constructor(\n        protected readonly task: TaskConfiguration,\n        protected readonly taskService: TaskService,\n        protected readonly taskNameResolver: TaskNameResolver,\n        protected readonly workspaceService: WorkspaceService,\n        protected readonly isMulti: boolean,\n        protected readonly options: QuickOpenGroupItemOptions\n    ) {\n        super(options);\n        const stat = this.workspaceService.workspace;\n        this.isMulti = stat ? !stat.isDirectory : false;\n    }\n\n    getLabel(): string {\n        return this.taskNameResolver.resolve(this.task);\n    }\n\n    getGroupLabel(): string {\n        return this.options.groupLabel || '';\n    }\n\n    getDescription(): string {\n        if (!this.isMulti) {\n            return '';\n        }\n        if (this.taskDefinitionRegistry && !!this.taskDefinitionRegistry.getDefinition(this.task)) {\n            if (this.task._scope) {\n                return new URI(this.task._scope).displayName;\n            }\n            return this.task._source;\n        } else {\n            return new URI(this.task._source).displayName;\n        }\n    }\n\n    run(mode: QuickOpenMode): boolean {\n        if (mode !== QuickOpenMode.OPEN) {\n            return false;\n        }\n        this.taskService.configure(this.task);\n\n        return true;\n    }\n}\n\n@injectable()\nexport class TaskTerminateQuickOpen implements QuickOpenModel {\n\n    @inject(QuickOpenService)\n    protected readonly quickOpenService: QuickOpenService;\n\n    @inject(TaskService)\n    protected readonly taskService: TaskService;\n\n    async onType(_lookFor: string, acceptor: (items: QuickOpenItem[]) => void): Promise<void> {\n        const items: QuickOpenItem[] = [];\n        const runningTasks: TaskInfo[] = await this.taskService.getRunningTasks();\n        if (runningTasks.length <= 0) {\n            items.push(new QuickOpenItem({\n                label: 'No task is currently running',\n                run: (): boolean => false,\n            }));\n        } else {\n            runningTasks.forEach((task: TaskInfo) => {\n                items.push(new QuickOpenItem({\n                    label: task.config.label,\n                    run: (mode: QuickOpenMode): boolean => {\n                        if (mode !== QuickOpenMode.OPEN) {\n                            return false;\n                        }\n                        this.taskService.kill(task.taskId);\n                        return true;\n                    }\n                }));\n            });\n            if (runningTasks.length > 1) {\n                items.push(new QuickOpenItem({\n                    label: 'All running tasks',\n                    run: (mode: QuickOpenMode): boolean => {\n                        if (mode !== QuickOpenMode.OPEN) {\n                            return false;\n                        }\n                        runningTasks.forEach((t: TaskInfo) => {\n                            this.taskService.kill(t.taskId);\n                        });\n                        return true;\n                    }\n                }));\n            }\n        }\n        acceptor(items);\n    }\n\n    async open(): Promise<void> {\n        this.quickOpenService.open(this, {\n            placeholder: 'Select task to terminate',\n            fuzzyMatchLabel: true,\n            fuzzyMatchDescription: true,\n        });\n    }\n\n}\n\n@injectable()\nexport class TaskRunningQuickOpen implements QuickOpenModel {\n\n    @inject(QuickOpenService)\n    protected readonly quickOpenService: QuickOpenService;\n\n    @inject(TaskService)\n    protected readonly taskService: TaskService;\n\n    @inject(TerminalService)\n    protected readonly terminalService: TerminalService;\n\n    async onType(_lookFor: string, acceptor: (items: QuickOpenItem[]) => void): Promise<void> {\n        const items: QuickOpenItem[] = [];\n        const runningTasks: TaskInfo[] = await this.taskService.getRunningTasks();\n        if (runningTasks.length <= 0) {\n            items.push(new QuickOpenItem({\n                label: 'No task is currently running',\n                run: (): boolean => false,\n            }));\n        } else {\n            runningTasks.forEach((task: TaskInfo) => {\n                items.push(new QuickOpenItem({\n                    label: task.config.label,\n                    run: (mode: QuickOpenMode): boolean => {\n                        if (mode !== QuickOpenMode.OPEN) {\n                            return false;\n                        }\n                        if (task.terminalId) {\n                            const terminal = this.terminalService.getById('terminal-' + task.terminalId);\n                            if (terminal) {\n                                this.terminalService.open(terminal);\n                            }\n                        }\n                        return true;\n                    }\n                }));\n            });\n        }\n        acceptor(items);\n    }\n\n    async open(): Promise<void> {\n        this.quickOpenService.open(this, {\n            placeholder: 'Select the task to show its output',\n            fuzzyMatchLabel: true,\n            fuzzyMatchDescription: true,\n        });\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2019 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable, inject } from 'inversify';\nimport { TaskService } from './task-service';\nimport { TaskRunQuickOpenItem } from './quick-open-task';\nimport { QuickOpenBaseAction, QuickOpenItem } from '@theia/core/lib/browser/quick-open';\nimport { QuickOpenAction, QuickOpenActionProvider } from '@theia/core/lib/common/quick-open-model';\nimport { ThemeService } from '@theia/core/lib/browser/theming';\n\n@injectable()\nexport class ConfigureTaskAction extends QuickOpenBaseAction {\n\n    @inject(TaskService)\n    protected readonly taskService: TaskService;\n\n    constructor() {\n        super({ id: 'configure:task' });\n\n        this.updateTheme();\n\n        ThemeService.get().onThemeChange(() => this.updateTheme());\n    }\n\n    async run(item?: QuickOpenItem): Promise<void> {\n        if (item instanceof TaskRunQuickOpenItem) {\n            this.taskService.configure(item.getTask());\n        }\n    }\n\n    protected updateTheme(): void {\n        const theme = ThemeService.get().getCurrentTheme().id;\n        if (theme === 'dark') {\n            this.class = 'quick-open-task-configure-dark';\n        } else if (theme === 'light') {\n            this.class = 'quick-open-task-configure-bright';\n        }\n    }\n}\n\n@injectable()\nexport class TaskActionProvider implements QuickOpenActionProvider {\n\n    @inject(ConfigureTaskAction)\n    protected configureTaskAction: ConfigureTaskAction;\n\n    hasActions(): boolean {\n        return true;\n    }\n\n    getActions(): ReadonlyArray<QuickOpenAction> {\n        return [this.configureTaskAction];\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2019 Ericsson and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport debounce = require('p-debounce');\nimport { inject, injectable, postConstruct } from 'inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { Emitter, Event } from '@theia/core/lib/common/event';\nimport { EditorManager, EditorWidget } from '@theia/editor/lib/browser';\nimport { PreferenceService, PreferenceScope } from '@theia/core/lib/browser';\nimport { QuickPickService } from '@theia/core/lib/common/quick-pick-service';\nimport { WorkspaceService } from '@theia/workspace/lib/browser/workspace-service';\nimport { TaskConfigurationModel } from './task-configuration-model';\nimport { TaskTemplateSelector } from './task-templates';\nimport { TaskCustomization, TaskConfiguration } from '../common/task-protocol';\nimport { WorkspaceVariableContribution } from '@theia/workspace/lib/browser/workspace-variable-contribution';\nimport { FileSystem, FileSystemError /*, FileStat */ } from '@theia/filesystem/lib/common';\nimport { FileChange, FileChangeType } from '@theia/filesystem/lib/common/filesystem-watcher-protocol';\nimport { PreferenceConfigurations } from '@theia/core/lib/browser/preferences/preference-configurations';\n\n@injectable()\nexport class TaskConfigurationManager {\n\n    @inject(WorkspaceService)\n    protected readonly workspaceService: WorkspaceService;\n\n    @inject(EditorManager)\n    protected readonly editorManager: EditorManager;\n\n    @inject(QuickPickService)\n    protected readonly quickPick: QuickPickService;\n\n    @inject(FileSystem)\n    protected readonly filesystem: FileSystem;\n\n    @inject(PreferenceService)\n    protected readonly preferences: PreferenceService;\n\n    @inject(PreferenceConfigurations)\n    protected readonly preferenceConfigurations: PreferenceConfigurations;\n\n    @inject(WorkspaceVariableContribution)\n    protected readonly workspaceVariables: WorkspaceVariableContribution;\n\n    @inject(TaskTemplateSelector)\n    protected readonly taskTemplateSelector: TaskTemplateSelector;\n\n    protected readonly onDidChangeTaskConfigEmitter = new Emitter<FileChange>();\n    readonly onDidChangeTaskConfig: Event<FileChange> = this.onDidChangeTaskConfigEmitter.event;\n\n    @postConstruct()\n    protected async init(): Promise<void> {\n        this.updateModels();\n        this.preferences.onPreferenceChanged(e => {\n            if (e.preferenceName === 'tasks') {\n                this.updateModels();\n            }\n        });\n        this.workspaceService.onWorkspaceChanged(() => {\n            this.updateModels();\n        });\n    }\n\n    protected readonly models = new Map<string, TaskConfigurationModel>();\n    protected updateModels = debounce(async () => {\n        const roots = await this.workspaceService.roots;\n        const toDelete = new Set(this.models.keys());\n        for (const rootStat of roots) {\n            const key = rootStat.uri;\n            toDelete.delete(key);\n            if (!this.models.has(key)) {\n                const model = new TaskConfigurationModel(key, this.preferences);\n                model.onDidChange(() => this.onDidChangeTaskConfigEmitter.fire({ uri: key, type: FileChangeType.UPDATED }));\n                model.onDispose(() => this.models.delete(key));\n                this.models.set(key, model);\n                this.onDidChangeTaskConfigEmitter.fire({ uri: key, type: FileChangeType.UPDATED });\n            }\n        }\n        for (const uri of toDelete) {\n            const model = this.models.get(uri);\n            if (model) {\n                model.dispose();\n            }\n            this.onDidChangeTaskConfigEmitter.fire({ uri, type: FileChangeType.DELETED });\n        }\n    }, 500);\n\n    getTasks(sourceFolderUri: string): (TaskCustomization | TaskConfiguration)[] {\n        if (this.models.has(sourceFolderUri)) {\n            const taskPrefModel = this.models.get(sourceFolderUri)!;\n            return taskPrefModel.configurations;\n        }\n        return [];\n    }\n\n    getTask(name: string, sourceFolderUri: string | undefined): TaskCustomization | TaskConfiguration | undefined {\n        const taskPrefModel = this.getModel(sourceFolderUri);\n        if (taskPrefModel) {\n            for (const configuration of taskPrefModel.configurations) {\n                if (configuration.name === name) {\n                    return configuration;\n                }\n            }\n        }\n    }\n\n    async openConfiguration(sourceFolderUri: string): Promise<void> {\n        const taskPrefModel = this.getModel(sourceFolderUri);\n        if (taskPrefModel) {\n            await this.doOpen(taskPrefModel);\n        }\n    }\n\n    async addTaskConfiguration(sourceFolderUri: string, taskConfig: TaskCustomization): Promise<void> {\n        const taskPrefModel = this.getModel(sourceFolderUri);\n        if (taskPrefModel) {\n            const configurations = taskPrefModel.configurations;\n            return this.setTaskConfigurations(sourceFolderUri, [...configurations, taskConfig]);\n        }\n    }\n\n    async setTaskConfigurations(sourceFolderUri: string, taskConfigs: (TaskCustomization | TaskConfiguration)[]): Promise<void> {\n        const taskPrefModel = this.getModel(sourceFolderUri);\n        if (taskPrefModel) {\n            return taskPrefModel.setConfigurations(taskConfigs);\n        }\n    }\n\n    private getModel(sourceFolderUri: string | undefined): TaskConfigurationModel | undefined {\n        if (!sourceFolderUri) {\n            return undefined;\n        }\n        for (const model of this.models.values()) {\n            if (model.workspaceFolderUri === sourceFolderUri) {\n                return model;\n            }\n        }\n    }\n\n    protected async doOpen(model: TaskConfigurationModel): Promise<EditorWidget | undefined> {\n        let uri = model.uri;\n        if (!uri) {\n            uri = await this.doCreate(model);\n        }\n        if (uri) {\n            return this.editorManager.open(uri, {\n                mode: 'activate'\n            });\n        }\n    }\n\n    protected async doCreate(model: TaskConfigurationModel): Promise<URI | undefined> {\n        const content = await this.getInitialConfigurationContent();\n        if (content) {\n            await this.preferences.set('tasks', {}, PreferenceScope.Folder, model.workspaceFolderUri); // create dummy tasks.json in the correct place\n            const { configUri } = this.preferences.resolve('tasks', [], model.workspaceFolderUri); // get uri to write content to it\n\n            let uri: URI;\n            if (configUri && configUri.path.base === 'tasks.json') {\n                uri = configUri;\n            } else { // fallback\n                uri = new URI(model.workspaceFolderUri).resolve(`${this.preferenceConfigurations.getPaths()[0]}/tasks.json`);\n            }\n\n            const fileStat = await this.filesystem.getFileStat(uri.toString());\n            if (!fileStat) {\n                throw new Error(`file not found: ${uri.toString()}`);\n            }\n            try {\n                this.filesystem.setContent(fileStat, content);\n            } catch (e) {\n                if (!FileSystemError.FileExists.is(e)) {\n                    throw e;\n                }\n            }\n            return uri;\n        }\n    }\n\n    protected async getInitialConfigurationContent(): Promise<string | undefined> {\n        const selected = await this.quickPick.show(this.taskTemplateSelector.selectTemplates(), {\n            placeholder: 'Select a Task Template'\n        });\n        if (selected) {\n            return selected.content;\n        }\n    }\n}\n\nexport namespace TaskConfigurationManager {\n    export interface Data {\n        current?: {\n            name: string\n            workspaceFolderUri?: string\n        }\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2019 Ericsson and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport URI from '@theia/core/lib/common/uri';\nimport { Emitter, Event } from '@theia/core/lib/common/event';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { TaskCustomization, TaskConfiguration } from '../common/task-protocol';\nimport { PreferenceService, PreferenceScope } from '@theia/core/lib/browser/preferences/preference-service';\n\nexport class TaskConfigurationModel implements Disposable {\n\n    protected json: TaskConfigurationModel.JsonContent;\n\n    protected readonly onDidChangeEmitter = new Emitter<void>();\n    readonly onDidChange: Event<void> = this.onDidChangeEmitter.event;\n\n    protected readonly toDispose = new DisposableCollection(\n        this.onDidChangeEmitter\n    );\n\n    constructor(\n        public readonly workspaceFolderUri: string,\n        protected readonly preferences: PreferenceService\n    ) {\n        this.reconcile();\n        this.toDispose.push(this.preferences.onPreferenceChanged(e => {\n            if (e.preferenceName === 'tasks' && e.affects(workspaceFolderUri)) {\n                this.reconcile();\n            }\n        }));\n    }\n\n    get uri(): URI | undefined {\n        return this.json.uri;\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n    get onDispose(): Event<void> {\n        return this.toDispose.onDispose;\n    }\n\n    get configurations(): (TaskCustomization | TaskConfiguration)[] {\n        return this.json.configurations;\n    }\n\n    protected reconcile(): void {\n        this.json = this.parseConfigurations();\n        this.onDidChangeEmitter.fire(undefined);\n    }\n\n    setConfigurations(value: object): Promise<void> {\n        return this.preferences.set('tasks.tasks', value, PreferenceScope.Folder, this.workspaceFolderUri);\n    }\n\n    protected parseConfigurations(): TaskConfigurationModel.JsonContent {\n        const configurations: (TaskCustomization | TaskConfiguration)[] = [];\n        // tslint:disable-next-line:no-any\n        const { configUri, value } = this.preferences.resolve<any>('tasks', undefined, this.workspaceFolderUri);\n        if (value && typeof value === 'object' && 'tasks' in value) {\n            if (Array.isArray(value.tasks)) {\n                for (const taskConfig of value.tasks) {\n                    configurations.push(taskConfig);\n                }\n            }\n        }\n        return {\n            uri: configUri,\n            configurations\n        };\n    }\n\n}\nexport namespace TaskConfigurationModel {\n    export interface JsonContent {\n        uri?: URI;\n        configurations: (TaskCustomization | TaskConfiguration)[];\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2017-2018 Ericsson and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport * as Ajv from 'ajv';\nimport { inject, injectable, postConstruct } from 'inversify';\nimport { ContributedTaskConfiguration, TaskConfiguration, TaskCustomization, TaskDefinition } from '../common';\nimport { TaskDefinitionRegistry } from './task-definition-registry';\nimport { ProvidedTaskConfigurations } from './provided-task-configurations';\nimport { TaskConfigurationManager } from './task-configuration-manager';\nimport { TaskSchemaUpdater } from './task-schema-updater';\nimport { TaskSourceResolver } from './task-source-resolver';\nimport { Disposable, DisposableCollection, ResourceProvider } from '@theia/core/lib/common';\nimport URI from '@theia/core/lib/common/uri';\nimport { FileChange, FileChangeType } from '@theia/filesystem/lib/common/filesystem-watcher-protocol';\nimport { WorkspaceService } from '@theia/workspace/lib/browser';\nimport { OpenerService } from '@theia/core/lib/browser';\n\nexport interface TaskConfigurationClient {\n    /**\n     * The task configuration file has changed, so a client might want to refresh its configurations\n     * @returns an array of strings, each one being a task label\n     */\n    taskConfigurationChanged: (event: string[]) => void;\n}\n\n/**\n * Watches a tasks.json configuration file and provides a parsed version of the contained task configurations\n */\n@injectable()\nexport class TaskConfigurations implements Disposable {\n\n    protected readonly toDispose = new DisposableCollection();\n    /**\n     * Map of source (path of root folder that the task configs come from) and task config map.\n     * For the inner map (i.e., task config map), the key is task label and value TaskConfiguration\n     */\n    protected tasksMap = new Map<string, Map<string, TaskConfiguration>>();\n    /**\n     * Map of source (path of root folder that the task configs come from) and task customizations map.\n     */\n    protected taskCustomizationMap = new Map<string, TaskCustomization[]>();\n\n    /** last directory element under which we look for task config */\n    protected readonly TASKFILEPATH = '.theia';\n    /** task configuration file name */\n    protected readonly TASKFILE = 'tasks.json';\n\n    protected client: TaskConfigurationClient | undefined = undefined;\n\n    /**\n     * Map of source (path of root folder that the task configs come from) and raw task configurations / customizations.\n     * This map is used to store the data from `tasks.json` files in workspace.\n     */\n    private rawTaskConfigurations = new Map<string, TaskCustomization[]>();\n\n    @inject(WorkspaceService)\n    protected readonly workspaceService: WorkspaceService;\n\n    @inject(ResourceProvider)\n    protected readonly resourceProvider: ResourceProvider;\n\n    @inject(OpenerService)\n    protected readonly openerService: OpenerService;\n\n    @inject(TaskDefinitionRegistry)\n    protected readonly taskDefinitionRegistry: TaskDefinitionRegistry;\n\n    @inject(ProvidedTaskConfigurations)\n    protected readonly providedTaskConfigurations: ProvidedTaskConfigurations;\n\n    @inject(TaskConfigurationManager)\n    protected readonly taskConfigurationManager: TaskConfigurationManager;\n\n    @inject(TaskSchemaUpdater)\n    protected readonly taskSchemaUpdater: TaskSchemaUpdater;\n\n    @inject(TaskSourceResolver)\n    protected readonly taskSourceResolver: TaskSourceResolver;\n\n    constructor() {\n        this.toDispose.push(Disposable.create(() => {\n            this.tasksMap.clear();\n            this.taskCustomizationMap.clear();\n            this.rawTaskConfigurations.clear();\n            this.client = undefined;\n        }));\n    }\n\n    @postConstruct()\n    protected init(): void {\n        this.toDispose.push(\n            this.taskConfigurationManager.onDidChangeTaskConfig(async change => {\n                try {\n                    await this.onDidTaskFileChange([change]);\n                    if (this.client) {\n                        this.client.taskConfigurationChanged(this.getTaskLabels());\n                    }\n                } catch (err) {\n                    console.error(err);\n                }\n            })\n        );\n        this.reorgnizeTasks();\n        this.toDispose.push(this.taskSchemaUpdater.onDidChangeTaskSchema(() => this.reorgnizeTasks()));\n    }\n\n    setClient(client: TaskConfigurationClient): void {\n        this.client = client;\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    /** returns the list of known task labels */\n    getTaskLabels(): string[] {\n        return Array.from(this.tasksMap.values()).reduce((acc, labelConfigMap) => acc.concat(Array.from(labelConfigMap.keys())), [] as string[]);\n    }\n\n    /**\n     * returns a collection of known tasks, which includes:\n     * - all the configured tasks in `tasks.json`, and\n     * - the customized detected tasks.\n     *\n     * The invalid task configs are not returned.\n     */\n    async getTasks(): Promise<TaskConfiguration[]> {\n        const configuredTasks = Array.from(this.tasksMap.values()).reduce((acc, labelConfigMap) => acc.concat(Array.from(labelConfigMap.values())), [] as TaskConfiguration[]);\n        const detectedTasksAsConfigured: TaskConfiguration[] = [];\n        for (const [rootFolder, customizations] of Array.from(this.taskCustomizationMap.entries())) {\n            for (const cus of customizations) {\n                const detected = await this.providedTaskConfigurations.getTaskToCustomize(cus, rootFolder);\n                if (detected) {\n                    detectedTasksAsConfigured.push({ ...detected, ...cus });\n                }\n            }\n        }\n        return [...configuredTasks, ...detectedTasksAsConfigured];\n    }\n\n    /**\n     * returns a collection of invalid task configs as per the task schema defined in Theia.\n     */\n    getInvalidTaskConfigurations(): (TaskCustomization | TaskConfiguration)[] {\n        const invalidTaskConfigs: (TaskCustomization | TaskConfiguration)[] = [];\n        for (const taskConfigs of this.rawTaskConfigurations.values()) {\n            for (const taskConfig of taskConfigs) {\n                const isValid = this.isTaskConfigValid(taskConfig);\n                if (!isValid) {\n                    invalidTaskConfigs.push(taskConfig);\n                }\n            }\n        }\n        return invalidTaskConfigs;\n    }\n\n    /** returns the task configuration for a given label or undefined if none */\n    getTask(rootFolderPath: string, taskLabel: string): TaskConfiguration | undefined {\n        const labelConfigMap = this.tasksMap.get(rootFolderPath);\n        if (labelConfigMap) {\n            return labelConfigMap.get(taskLabel);\n        }\n    }\n\n    /** removes tasks configured in the given task config file */\n    private removeTasks(configFileUri: string): void {\n        const source = this.getSourceFolderFromConfigUri(configFileUri);\n        this.tasksMap.delete(source);\n        this.taskCustomizationMap.delete(source);\n    }\n\n    /**\n     * Removes task customization objects found in the given task config file from the memory.\n     * Please note: this function does not modify the task config file.\n     */\n    private removeTaskCustomizations(configFileUri: string): void {\n        const source = this.getSourceFolderFromConfigUri(configFileUri);\n        this.taskCustomizationMap.delete(source);\n    }\n\n    /**\n     * Returns the task customizations by type from a given root folder in the workspace.\n     * @param type the type of task customizations\n     * @param rootFolder the root folder to find task customizations from. If `undefined`, this function returns an empty array.\n     */\n    getTaskCustomizations(type: string, rootFolder?: string): TaskCustomization[] {\n        if (!rootFolder) {\n            return [];\n        }\n\n        const customizationInRootFolder = this.taskCustomizationMap.get(new URI(rootFolder).toString());\n        if (customizationInRootFolder) {\n            return customizationInRootFolder.filter(c => c.type === type);\n        }\n        return [];\n    }\n\n    /**\n     * Returns the customization object in `tasks.json` for the given task. Please note, this function\n     * returns `undefined` if the given task is not a detected task, because configured tasks don't need\n     * customization objects - users can modify its config directly in `tasks.json`.\n     * @param taskConfig The task config, which could either be a configured task or a detected task.\n     */\n    getCustomizationForTask(taskConfig: TaskConfiguration): TaskCustomization | undefined {\n        if (!this.isDetectedTask(taskConfig)) {\n            return undefined;\n        }\n\n        const customizationByType = this.getTaskCustomizations(taskConfig.taskType || taskConfig.type, taskConfig._scope) || [];\n        const hasCustomization = customizationByType.length > 0;\n        if (hasCustomization) {\n            const taskDefinition = this.taskDefinitionRegistry.getDefinition(taskConfig);\n            if (taskDefinition) {\n                const cus = customizationByType.filter(customization =>\n                    taskDefinition.properties.required.every(rp => customization[rp] === taskConfig[rp])\n                )[0]; // Only support having one customization per task\n                return cus;\n            }\n        }\n        return undefined;\n    }\n\n    /** returns the string uri of where the config file would be, if it existed under a given root directory */\n    protected getConfigFileUri(rootDir: string): string {\n        return new URI(rootDir).resolve(this.TASKFILEPATH).resolve(this.TASKFILE).toString();\n    }\n\n    /**\n     * Called when a change, to a config file we watch, is detected.\n     */\n    protected async onDidTaskFileChange(fileChanges: FileChange[]): Promise<void> {\n        for (const change of fileChanges) {\n            if (change.type === FileChangeType.DELETED) {\n                this.removeTasks(change.uri);\n            } else {\n                // re-parse the config file\n                await this.refreshTasks(change.uri);\n            }\n        }\n    }\n\n    /**\n     * Read the task configs from the task configuration manager, and updates the list of available tasks.\n     */\n    protected async refreshTasks(rootFolderUri: string): Promise<void> {\n        await this.readTasks(rootFolderUri);\n\n        this.removeTasks(rootFolderUri);\n        this.removeTaskCustomizations(rootFolderUri);\n\n        this.reorgnizeTasks();\n    }\n\n    /** parses a config file and extracts the tasks launch configurations */\n    protected async readTasks(rootFolderUri: string): Promise<(TaskCustomization | TaskConfiguration)[] | undefined> {\n        const configArray = this.taskConfigurationManager.getTasks(rootFolderUri);\n        if (this.rawTaskConfigurations.has(rootFolderUri)) {\n            this.rawTaskConfigurations.delete(rootFolderUri);\n        }\n        const tasks = configArray.map(config => {\n            if (this.isDetectedTask(config)) {\n                const def = this.getTaskDefinition(config);\n                return {\n                    ...config,\n                    _source: def!.source,\n                    _scope: rootFolderUri\n                };\n            }\n            return {\n                ...config,\n                _source: rootFolderUri,\n                _scope: rootFolderUri\n            };\n        });\n        this.rawTaskConfigurations.set(rootFolderUri, tasks);\n        return tasks;\n    }\n\n    /** Adds given task to a config file and opens the file to provide ability to edit task configuration. */\n    async configure(task: TaskConfiguration): Promise<void> {\n        const workspace = this.workspaceService.workspace;\n        if (!workspace) {\n            return;\n        }\n\n        const sourceFolderUri: string | undefined = this.taskSourceResolver.resolve(task);\n        if (!sourceFolderUri) {\n            console.error('Global task cannot be customized');\n            return;\n        }\n\n        const configuredAndCustomizedTasks = await this.getTasks();\n        if (!configuredAndCustomizedTasks.some(t => this.taskDefinitionRegistry.compareTasks(t, task))) {\n            await this.saveTask(sourceFolderUri, { ...task, problemMatcher: [] });\n        }\n\n        try {\n            await this.taskConfigurationManager.openConfiguration(sourceFolderUri);\n        } catch (e) {\n            console.error(`Error occurred while opening: ${this.TASKFILE}.`, e);\n        }\n    }\n\n    private getTaskCustomizationTemplate(task: TaskConfiguration): TaskCustomization | undefined {\n        const definition = this.getTaskDefinition(task);\n        if (!definition) {\n            console.error('Detected / Contributed tasks should have a task definition.');\n            return;\n        }\n        const customization: TaskCustomization = { type: task.taskType || task.type };\n        definition.properties.all.forEach(p => {\n            if (task[p] !== undefined) {\n                customization[p] = task[p];\n            }\n        });\n        if ('problemMatcher' in task) {\n            const problemMatcher: string[] = [];\n            if (Array.isArray(task.problemMatcher)) {\n                problemMatcher.push(...task.problemMatcher.map(t => {\n                    if (typeof t === 'string') {\n                        return t;\n                    } else {\n                        return t.name!;\n                    }\n                }));\n            } else if (typeof task.problemMatcher === 'string') {\n                problemMatcher.push(task.problemMatcher);\n            } else if (task.problemMatcher) {\n                problemMatcher.push(task.problemMatcher.name!);\n            }\n            customization.problemMatcher = problemMatcher.map(name => name.startsWith('$') ? name : `$${name}`);\n        }\n        if (task.group) {\n            customization.group = task.group;\n        }\n        return { ...customization };\n    }\n\n    /** Writes the task to a config file. Creates a config file if this one does not exist */\n    saveTask(sourceFolderUri: string, task: TaskConfiguration): Promise<void> {\n        const { _source, $ident, ...preparedTask } = task;\n        const customizedTaskTemplate = this.getTaskCustomizationTemplate(task) || preparedTask;\n        return this.taskConfigurationManager.addTaskConfiguration(sourceFolderUri, customizedTaskTemplate);\n    }\n\n    /**\n     * This function is called after a change in TaskDefinitionRegistry happens.\n     * It checks all tasks that have been loaded, and re-organized them in `tasksMap` and `taskCustomizationMap`.\n     */\n    protected reorgnizeTasks(): void {\n        const newTaskMap = new Map<string, Map<string, TaskConfiguration>>();\n        const newTaskCustomizationMap = new Map<string, TaskCustomization[]>();\n        const addCustomization = (rootFolder: string, customization: TaskCustomization) => {\n            if (newTaskCustomizationMap.has(rootFolder)) {\n                newTaskCustomizationMap.get(rootFolder)!.push(customization);\n            } else {\n                newTaskCustomizationMap.set(rootFolder, [customization]);\n            }\n        };\n        const addConfiguredTask = (rootFolder: string, label: string, configuredTask: TaskCustomization) => {\n            if (newTaskMap.has(rootFolder)) {\n                newTaskMap.get(rootFolder)!.set(label, configuredTask as TaskConfiguration);\n            } else {\n                const newConfigMap = new Map();\n                newConfigMap.set(label, configuredTask);\n                newTaskMap.set(rootFolder, newConfigMap);\n            }\n        };\n\n        for (const [rootFolder, taskConfigs] of this.rawTaskConfigurations.entries()) {\n            for (const taskConfig of taskConfigs) {\n                const isValid = this.isTaskConfigValid(taskConfig);\n                if (!isValid) {\n                    continue;\n                }\n                if (this.isDetectedTask(taskConfig)) {\n                    addCustomization(rootFolder, taskConfig);\n                } else {\n                    addConfiguredTask(rootFolder, taskConfig['label'] as string, taskConfig);\n                }\n            }\n        }\n\n        this.taskCustomizationMap = newTaskCustomizationMap;\n        this.tasksMap = newTaskMap;\n    }\n\n    /**\n     * Returns `true` if the given task configuration is valid as per the task schema defined in Theia\n     * or contributed by Theia extensions and plugins, `false` otherwise.\n     */\n    private isTaskConfigValid(task: TaskCustomization): boolean {\n        const schema = this.taskSchemaUpdater.getTaskSchema();\n        const ajv = new Ajv();\n        const validateSchema = ajv.compile(schema);\n        return !!validateSchema({ tasks: [task] });\n    }\n\n    /**\n     * Updates the task config in the `tasks.json`.\n     * The task config, together with updates, will be written into the `tasks.json` if it is not found in the file.\n     *\n     * @param task task that the updates will be applied to\n     * @param update the updates to be appplied\n     */\n    // tslint:disable-next-line:no-any\n    async updateTaskConfig(task: TaskConfiguration, update: { [name: string]: any }): Promise<void> {\n        const sourceFolderUri: string | undefined = this.taskSourceResolver.resolve(task);\n        if (!sourceFolderUri) {\n            console.error('Global task cannot be customized');\n            return;\n        }\n        const configuredAndCustomizedTasks = await this.getTasks();\n        if (configuredAndCustomizedTasks.some(t => this.taskDefinitionRegistry.compareTasks(t, task))) { // task is already in `tasks.json`\n            const jsonTasks = this.taskConfigurationManager.getTasks(sourceFolderUri);\n            if (jsonTasks) {\n                const ind = jsonTasks.findIndex((t: TaskCustomization | TaskConfiguration) => {\n                    if (t.type !== (task.taskType || task.type)) {\n                        return false;\n                    }\n                    const def = this.taskDefinitionRegistry.getDefinition(t);\n                    if (def) {\n                        return def.properties.all.every(p => t[p] === task[p]);\n                    }\n                    return t.label === task.label;\n                });\n                jsonTasks[ind] = {\n                    ...jsonTasks[ind],\n                    ...update\n                };\n            }\n            this.taskConfigurationManager.setTaskConfigurations(sourceFolderUri, jsonTasks);\n        } else { // task is not in `tasks.json`\n            Object.keys(update).forEach(taskProperty => {\n                task[taskProperty] = update[taskProperty];\n            });\n            this.saveTask(sourceFolderUri, task);\n        }\n    }\n\n    private getSourceFolderFromConfigUri(configFileUri: string): string {\n        return new URI(configFileUri).parent.parent.path.toString();\n    }\n\n    /** checks if the config is a detected / contributed task */\n    private isDetectedTask(task: TaskConfiguration | TaskCustomization): task is ContributedTaskConfiguration {\n        const taskDefinition = this.getTaskDefinition(task);\n        // it is considered as a customization if the task definition registry finds a def for the task configuration\n        return !!taskDefinition;\n    }\n\n    private getTaskDefinition(task: TaskConfiguration | TaskCustomization): TaskDefinition | undefined {\n        return this.taskDefinitionRegistry.getDefinition({\n            ...task,\n            type: task.taskType || task.type\n        });\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2019 Ericsson and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable } from 'inversify';\nimport { FolderPreferenceProvider } from '@theia/preferences/lib/browser/folder-preference-provider';\n\n@injectable()\nexport class TaskFolderPreferenceProvider extends FolderPreferenceProvider {\n\n    // tslint:disable-next-line:no-any\n    protected parse(content: string): any {\n        const tasks = super.parse(content);\n        if (tasks === undefined) {\n            return undefined;\n        }\n        return { tasks: { ...tasks } };\n    }\n\n    protected getPath(preferenceName: string): string[] | undefined {\n        if (preferenceName === 'tasks') {\n            return [];\n        }\n        if (preferenceName.startsWith('tasks.')) {\n            return [preferenceName.substr('tasks.'.length)];\n        }\n        return undefined;\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2017 Ericsson and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { inject, injectable, named, postConstruct } from 'inversify';\nimport { ILogger, ContributionProvider } from '@theia/core/lib/common';\nimport { QuickOpenTask, TaskTerminateQuickOpen, TaskRunningQuickOpen } from './quick-open-task';\nimport { CommandContribution, Command, CommandRegistry, MenuContribution, MenuModelRegistry } from '@theia/core/lib/common';\nimport {\n    FrontendApplication, FrontendApplicationContribution, QuickOpenContribution,\n    QuickOpenHandlerRegistry, KeybindingRegistry, KeybindingContribution, StorageService, StatusBar, StatusBarAlignment\n} from '@theia/core/lib/browser';\nimport { WidgetManager } from '@theia/core/lib/browser/widget-manager';\nimport { TaskContribution, TaskResolverRegistry, TaskProviderRegistry } from './task-contribution';\nimport { TaskService } from './task-service';\nimport { TerminalMenus } from '@theia/terminal/lib/browser/terminal-frontend-contribution';\nimport { TaskSchemaUpdater } from './task-schema-updater';\nimport { TaskConfiguration, TaskWatcher } from '../common';\nimport { EditorManager } from '@theia/editor/lib/browser';\nimport { WorkspaceService } from '@theia/workspace/lib/browser/workspace-service';\n\nexport namespace TaskCommands {\n    const TASK_CATEGORY = 'Task';\n    export const TASK_RUN: Command = {\n        id: 'task:run',\n        category: TASK_CATEGORY,\n        label: 'Run Task...'\n    };\n\n    export const TASK_RUN_BUILD: Command = {\n        id: 'task:run:build',\n        category: TASK_CATEGORY,\n        label: 'Run Build Task...'\n    };\n\n    export const TASK_RUN_TEST: Command = {\n        id: 'task:run:test',\n        category: TASK_CATEGORY,\n        label: 'Run Test Task...'\n    };\n\n    export const WORKBENCH_RUN_TASK: Command = {\n        id: 'workbench.action.tasks.runTask',\n        category: TASK_CATEGORY\n    };\n\n    export const TASK_RUN_LAST: Command = {\n        id: 'task:run:last',\n        category: TASK_CATEGORY,\n        label: 'Run Last Task'\n    };\n\n    export const TASK_ATTACH: Command = {\n        id: 'task:attach',\n        category: TASK_CATEGORY,\n        label: 'Attach Task...'\n    };\n\n    export const TASK_RUN_TEXT: Command = {\n        id: 'task:run:text',\n        category: TASK_CATEGORY,\n        label: 'Run Selected Text'\n    };\n\n    export const TASK_CONFIGURE: Command = {\n        id: 'task:configure',\n        category: TASK_CATEGORY,\n        label: 'Configure Tasks...'\n    };\n\n    export const TASK_CLEAR_HISTORY: Command = {\n        id: 'task:clear-history',\n        category: TASK_CATEGORY,\n        label: 'Clear History'\n    };\n\n    export const TASK_SHOW_RUNNING: Command = {\n        id: 'task:show-running',\n        category: TASK_CATEGORY,\n        label: 'Show Running Tasks'\n    };\n\n    export const TASK_TERMINATE: Command = {\n        id: 'task:terminate',\n        category: TASK_CATEGORY,\n        label: 'Terminate Task'\n    };\n}\n\nconst TASKS_STORAGE_KEY = 'tasks';\n\n@injectable()\nexport class TaskFrontendContribution implements CommandContribution, MenuContribution, KeybindingContribution, FrontendApplicationContribution, QuickOpenContribution {\n    @inject(QuickOpenTask)\n    protected readonly quickOpenTask: QuickOpenTask;\n\n    @inject(EditorManager)\n    protected readonly editorManager: EditorManager;\n\n    @inject(FrontendApplication)\n    protected readonly app: FrontendApplication;\n\n    @inject(ILogger) @named('task')\n    protected readonly logger: ILogger;\n\n    @inject(WidgetManager)\n    protected readonly widgetManager: WidgetManager;\n\n    @inject(ContributionProvider) @named(TaskContribution)\n    protected readonly contributionProvider: ContributionProvider<TaskContribution>;\n\n    @inject(TaskProviderRegistry)\n    protected readonly taskProviderRegistry: TaskProviderRegistry;\n\n    @inject(TaskResolverRegistry)\n    protected readonly taskResolverRegistry: TaskResolverRegistry;\n\n    @inject(TaskService)\n    protected readonly taskService: TaskService;\n\n    @inject(TaskSchemaUpdater)\n    protected readonly schemaUpdater: TaskSchemaUpdater;\n\n    @inject(StorageService)\n    protected readonly storageService: StorageService;\n\n    @inject(TaskRunningQuickOpen)\n    protected readonly taskRunningQuickOpen: TaskRunningQuickOpen;\n\n    @inject(TaskTerminateQuickOpen)\n    protected readonly taskTerminateQuickOpen: TaskTerminateQuickOpen;\n\n    @inject(TaskWatcher)\n    protected readonly taskWatcher: TaskWatcher;\n\n    @inject(StatusBar)\n    protected readonly statusBar: StatusBar;\n\n    @inject(WorkspaceService)\n    protected readonly workspaceService: WorkspaceService;\n\n    @postConstruct()\n    protected async init(): Promise<void> {\n        this.taskWatcher.onTaskCreated(() => this.updateRunningTasksItem());\n        this.taskWatcher.onTaskExit(() => this.updateRunningTasksItem());\n    }\n\n    onStart(): void {\n        this.contributionProvider.getContributions().forEach(contrib => {\n            if (contrib.registerResolvers) {\n                contrib.registerResolvers(this.taskResolverRegistry);\n            }\n            if (contrib.registerProviders) {\n                contrib.registerProviders(this.taskProviderRegistry);\n            }\n        });\n        this.schemaUpdater.update();\n\n        this.storageService.getData<{ recent: TaskConfiguration[] }>(TASKS_STORAGE_KEY, { recent: [] })\n            .then(tasks => this.taskService.recentTasks = tasks.recent);\n    }\n\n    onStop(): void {\n        const recent = this.taskService.recentTasks;\n        this.storageService.setData<{ recent: TaskConfiguration[] }>(TASKS_STORAGE_KEY, { recent });\n    }\n\n    /**\n     * Contribute a status-bar item to trigger\n     * the `Show Running Tasks` command.\n     */\n    protected async updateRunningTasksItem(): Promise<void> {\n        const id = 'show-running-tasks';\n        const items = await this.taskService.getRunningTasks();\n        if (!!items.length) {\n            this.statusBar.setElement(id, {\n                text: `$(tools) ${items.length}`,\n                tooltip: 'Show Running Tasks',\n                alignment: StatusBarAlignment.LEFT,\n                priority: 2,\n                command: TaskCommands.TASK_SHOW_RUNNING.id,\n            });\n        } else {\n            this.statusBar.removeElement(id);\n        }\n    }\n\n    registerCommands(registry: CommandRegistry): void {\n        registry.registerCommand(\n            TaskCommands.WORKBENCH_RUN_TASK,\n            {\n                isEnabled: () => true,\n                execute: async (label: string) => {\n                    const didExecute = await this.taskService.runTaskByLabel(label);\n                    if (!didExecute) {\n                        this.quickOpenTask.open();\n                    }\n                }\n            }\n        );\n\n        registry.registerCommand(\n            TaskCommands.TASK_RUN,\n            {\n                isEnabled: () => true,\n                // tslint:disable-next-line:no-any\n                execute: (...args: any[]) => {\n                    const [source, label] = args;\n                    if (source && label) {\n                        return this.taskService.run(source, label);\n                    }\n                    return this.quickOpenTask.open();\n                }\n            }\n        );\n        registry.registerCommand(\n            TaskCommands.TASK_RUN_BUILD,\n            {\n                isEnabled: () => this.workspaceService.opened,\n                // tslint:disable-next-line:no-any\n                execute: (...args: any[]) =>\n                    this.quickOpenTask.runBuildOrTestTask('build')\n            }\n        );\n        registry.registerCommand(\n            TaskCommands.TASK_RUN_TEST,\n            {\n                isEnabled: () => this.workspaceService.opened,\n                // tslint:disable-next-line:no-any\n                execute: (...args: any[]) =>\n                    this.quickOpenTask.runBuildOrTestTask('test')\n            }\n        );\n        registry.registerCommand(\n            TaskCommands.TASK_ATTACH,\n            {\n                isEnabled: () => true,\n                execute: () => this.quickOpenTask.attach()\n            }\n        );\n        registry.registerCommand(\n            TaskCommands.TASK_RUN_LAST,\n            {\n                isEnabled: () => !!this.taskService.getLastTask(),\n                execute: () => this.taskService.runLastTask()\n            }\n        );\n        registry.registerCommand(\n            TaskCommands.TASK_RUN_TEXT,\n            {\n                isVisible: () => !!this.editorManager.currentEditor,\n                isEnabled: () => !!this.editorManager.currentEditor,\n                execute: () => this.taskService.runSelectedText()\n            }\n        );\n\n        registry.registerCommand(\n            TaskCommands.TASK_CONFIGURE,\n            {\n                execute: () => this.quickOpenTask.configure()\n            }\n        );\n\n        registry.registerCommand(\n            TaskCommands.TASK_CLEAR_HISTORY,\n            {\n                execute: () => this.taskService.clearRecentTasks()\n            }\n        );\n\n        registry.registerCommand(\n            TaskCommands.TASK_SHOW_RUNNING,\n            {\n                execute: () => this.taskRunningQuickOpen.open()\n            }\n        );\n\n        registry.registerCommand(\n            TaskCommands.TASK_TERMINATE,\n            {\n                execute: () => this.taskTerminateQuickOpen.open()\n            }\n        );\n    }\n\n    registerMenus(menus: MenuModelRegistry): void {\n        menus.registerMenuAction(TerminalMenus.TERMINAL_TASKS, {\n            commandId: TaskCommands.TASK_RUN.id,\n            order: '0'\n        });\n\n        menus.registerMenuAction(TerminalMenus.TERMINAL_TASKS, {\n            commandId: TaskCommands.TASK_RUN_BUILD.id,\n            order: '1'\n        });\n\n        menus.registerMenuAction(TerminalMenus.TERMINAL_TASKS, {\n            commandId: TaskCommands.TASK_RUN_TEST.id,\n            order: '2'\n        });\n\n        menus.registerMenuAction(TerminalMenus.TERMINAL_TASKS, {\n            commandId: TaskCommands.TASK_RUN_LAST.id,\n            order: '3'\n        });\n\n        menus.registerMenuAction(TerminalMenus.TERMINAL_TASKS, {\n            commandId: TaskCommands.TASK_ATTACH.id,\n            order: '4'\n        });\n\n        menus.registerMenuAction(TerminalMenus.TERMINAL_TASKS, {\n            commandId: TaskCommands.TASK_RUN_TEXT.id,\n            order: '5'\n        });\n\n        menus.registerMenuAction(TerminalMenus.TERMINAL_TASKS_INFO, {\n            commandId: TaskCommands.TASK_SHOW_RUNNING.id,\n            label: 'Show Running Tasks...',\n            order: '0'\n        });\n\n        menus.registerMenuAction(TerminalMenus.TERMINAL_TASKS_INFO, {\n            commandId: TaskCommands.TASK_TERMINATE.id,\n            label: 'Terminate Task...',\n            order: '1'\n        });\n\n        menus.registerMenuAction(TerminalMenus.TERMINAL_TASKS_CONFIG, {\n            commandId: TaskCommands.TASK_CONFIGURE.id,\n            order: '0'\n        });\n    }\n\n    registerQuickOpenHandlers(handlers: QuickOpenHandlerRegistry): void {\n        handlers.registerHandler(this.quickOpenTask);\n    }\n\n    registerKeybindings(keybindings: KeybindingRegistry): void {\n        keybindings.registerKeybinding({\n            command: TaskCommands.TASK_RUN_LAST.id,\n            keybinding: 'ctrlcmd+shift+k'\n        });\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2017 Ericsson and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { ContainerModule } from 'inversify';\nimport { FrontendApplicationContribution, QuickOpenContribution, KeybindingContribution } from '@theia/core/lib/browser';\nimport { CommandContribution, MenuContribution, bindContributionProvider } from '@theia/core/lib/common';\nimport { WebSocketConnectionProvider } from '@theia/core/lib/browser/messaging';\nimport { QuickOpenTask, TaskTerminateQuickOpen, TaskRunningQuickOpen } from './quick-open-task';\nimport { TaskContribution, TaskProviderRegistry, TaskResolverRegistry } from './task-contribution';\nimport { TaskService } from './task-service';\nimport { TaskConfigurations } from './task-configurations';\nimport { ProvidedTaskConfigurations } from './provided-task-configurations';\nimport { TaskFrontendContribution } from './task-frontend-contribution';\nimport { createCommonBindings } from '../common/task-common-module';\nimport { TaskServer, taskPath } from '../common/task-protocol';\nimport { TaskWatcher } from '../common/task-watcher';\nimport { bindProcessTaskModule } from './process/process-task-frontend-module';\nimport { TaskSchemaUpdater } from './task-schema-updater';\nimport { TaskActionProvider, ConfigureTaskAction } from './task-action-provider';\nimport { TaskDefinitionRegistry } from './task-definition-registry';\nimport { ProblemMatcherRegistry } from './task-problem-matcher-registry';\nimport { ProblemPatternRegistry } from './task-problem-pattern-registry';\nimport { TaskConfigurationManager } from './task-configuration-manager';\nimport { bindTaskPreferences } from './task-preferences';\nimport '../../src/browser/style/index.css';\nimport './tasks-monaco-contribution';\nimport { TaskNameResolver } from './task-name-resolver';\nimport { TaskSourceResolver } from './task-source-resolver';\nimport { TaskTemplateSelector } from './task-templates';\n\nexport default new ContainerModule(bind => {\n    bind(TaskFrontendContribution).toSelf().inSingletonScope();\n    bind(TaskService).toSelf().inSingletonScope();\n    bind(TaskActionProvider).toSelf().inSingletonScope();\n    bind(ConfigureTaskAction).toSelf().inSingletonScope();\n\n    for (const identifier of [FrontendApplicationContribution, CommandContribution, KeybindingContribution, MenuContribution, QuickOpenContribution]) {\n        bind(identifier).toService(TaskFrontendContribution);\n    }\n\n    bind(QuickOpenTask).toSelf().inSingletonScope();\n    bind(TaskRunningQuickOpen).toSelf().inSingletonScope();\n    bind(TaskTerminateQuickOpen).toSelf().inSingletonScope();\n    bind(TaskConfigurations).toSelf().inSingletonScope();\n    bind(ProvidedTaskConfigurations).toSelf().inSingletonScope();\n    bind(TaskConfigurationManager).toSelf().inSingletonScope();\n\n    bind(TaskServer).toDynamicValue(ctx => {\n        const connection = ctx.container.get(WebSocketConnectionProvider);\n        const taskWatcher = ctx.container.get(TaskWatcher);\n        return connection.createProxy<TaskServer>(taskPath, taskWatcher.getTaskClient());\n    }).inSingletonScope();\n\n    bind(TaskDefinitionRegistry).toSelf().inSingletonScope();\n    bind(ProblemMatcherRegistry).toSelf().inSingletonScope();\n    bind(ProblemPatternRegistry).toSelf().inSingletonScope();\n\n    createCommonBindings(bind);\n\n    bind(TaskProviderRegistry).toSelf().inSingletonScope();\n    bind(TaskResolverRegistry).toSelf().inSingletonScope();\n    bindContributionProvider(bind, TaskContribution);\n    bind(TaskSchemaUpdater).toSelf().inSingletonScope();\n    bind(TaskNameResolver).toSelf().inSingletonScope();\n    bind(TaskSourceResolver).toSelf().inSingletonScope();\n    bind(TaskTemplateSelector).toSelf().inSingletonScope();\n\n    bindProcessTaskModule(bind);\n    bindTaskPreferences(bind);\n});\n","/********************************************************************************\n * Copyright (C) 2019 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { inject, injectable } from 'inversify';\nimport { TaskConfiguration, ContributedTaskConfiguration } from '../common';\nimport { TaskDefinitionRegistry } from './task-definition-registry';\n\n@injectable()\nexport class TaskNameResolver {\n    @inject(TaskDefinitionRegistry)\n    protected taskDefinitionRegistry: TaskDefinitionRegistry;\n\n    /**\n     * Returns task name to display.\n     * It is aligned with VS Code.\n     */\n    resolve(task: TaskConfiguration): string {\n        if (this.isDetectedTask(task)) {\n            return `${task.source || task._source}: ${task.label}`;\n        }\n\n        // it is a hack, when task is customized but extension is absent\n        return task.label || `${task.type}: ${task.task}`;\n    }\n\n    private isDetectedTask(task: TaskConfiguration): task is ContributedTaskConfiguration {\n        return !!this.taskDefinitionRegistry.getDefinition(task);\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2019 Ericsson and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { interfaces } from 'inversify';\nimport { PreferenceContribution, PreferenceSchema } from '@theia/core/lib/browser/preferences/preference-contribution';\nimport { taskSchemaId } from './task-schema-updater';\nimport { TaskFolderPreferenceProvider } from './task-folder-preference-provider';\nimport { FolderPreferenceProvider } from '@theia/preferences/lib/browser';\nimport { PreferenceConfiguration } from '@theia/core/lib/browser/preferences/preference-configurations';\n\nexport const taskPreferencesSchema: PreferenceSchema = {\n    type: 'object',\n    scope: 'resource',\n    properties: {\n        tasks: {\n            $ref: taskSchemaId,\n            description: 'Task definition file',\n            defaultValue: {\n                tasks: []\n            }\n        }\n    }\n};\n\nexport function bindTaskPreferences(bind: interfaces.Bind): void {\n    bind(PreferenceContribution).toConstantValue({ schema: taskPreferencesSchema });\n    bind(FolderPreferenceProvider).to(TaskFolderPreferenceProvider).inTransientScope().whenTargetNamed('tasks');\n    bind(PreferenceConfiguration).toConstantValue({ name: 'tasks' });\n}\n","/********************************************************************************\n * Copyright (C) 2019 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n// This file is inspired by VSCode and partially copied from https://github.com/Microsoft/vscode/blob/1.33.1/src/vs/workbench/contrib/tasks/common/problemMatcher.ts\n// 'problemMatcher.ts' copyright:\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { injectable, inject, postConstruct } from 'inversify';\nimport { JsonSchemaStore } from '@theia/core/lib/browser/json-schema-store';\nimport { InMemoryResources, deepClone, Emitter } from '@theia/core/lib/common';\nimport { IJSONSchema } from '@theia/core/lib/common/json-schema';\nimport { inputsSchema } from '@theia/variable-resolver/lib/browser/variable-input-schema';\nimport URI from '@theia/core/lib/common/uri';\nimport { ProblemMatcherRegistry } from './task-problem-matcher-registry';\nimport { TaskDefinitionRegistry } from './task-definition-registry';\nimport { TaskServer } from '../common';\n\nexport const taskSchemaId = 'vscode://schemas/tasks';\n\n@injectable()\nexport class TaskSchemaUpdater {\n    @inject(JsonSchemaStore)\n    protected readonly jsonSchemaStore: JsonSchemaStore;\n\n    @inject(InMemoryResources)\n    protected readonly inmemoryResources: InMemoryResources;\n\n    @inject(ProblemMatcherRegistry)\n    protected readonly problemMatcherRegistry: ProblemMatcherRegistry;\n\n    @inject(TaskDefinitionRegistry)\n    protected readonly taskDefinitionRegistry: TaskDefinitionRegistry;\n\n    @inject(TaskServer)\n    protected readonly taskServer: TaskServer;\n\n    protected readonly onDidChangeTaskSchemaEmitter = new Emitter<void>();\n    readonly onDidChangeTaskSchema = this.onDidChangeTaskSchemaEmitter.event;\n\n    @postConstruct()\n    protected init(): void {\n        const taskSchemaUri = new URI(taskSchemaId);\n        this.jsonSchemaStore.onDidChangeSchema(uri => {\n            if (uri.toString() === taskSchemaUri.toString()) {\n                this.onDidChangeTaskSchemaEmitter.fire(undefined);\n            }\n        });\n\n        this.updateProblemMatcherNames();\n        this.updateSupportedTaskTypes();\n        // update problem matcher names in the task schema every time a problem matcher is added or disposed\n        this.problemMatcherRegistry.onDidChangeProblemMatcher(() => this.updateProblemMatcherNames());\n        // update supported task types in the task schema every time a task definition is registered or removed\n        this.taskDefinitionRegistry.onDidRegisterTaskDefinition(() => this.updateSupportedTaskTypes());\n        this.taskDefinitionRegistry.onDidUnregisterTaskDefinition(() => this.updateSupportedTaskTypes());\n    }\n\n    update(): void {\n        const taskSchemaUri = new URI(taskSchemaId);\n\n        taskConfigurationSchema.anyOf = [processTaskConfigurationSchema, ...customizedDetectedTasks, ...customSchemas];\n\n        const schemaContent = this.getStrigifiedTaskSchema();\n        try {\n            this.inmemoryResources.update(taskSchemaUri, schemaContent);\n        } catch (e) {\n            this.inmemoryResources.add(taskSchemaUri, schemaContent);\n            this.jsonSchemaStore.registerSchema({\n                fileMatch: ['tasks.json'],\n                url: taskSchemaUri.toString()\n            });\n        }\n    }\n\n    /**\n     * Adds given task schema to `taskConfigurationSchema` as `oneOf` subschema.\n     * Replaces existed subschema by given schema if the corrresponding `$id` properties are equal.\n     *\n     * Note: please provide `$id` property for subschema to have ability remove/replace it.\n     * @param schema subschema for adding to `taskConfigurationSchema`\n     */\n    addSubschema(schema: IJSONSchema): void {\n        const schemaId = schema.$id;\n        if (schemaId) {\n            this.doRemoveSubschema(schemaId);\n        }\n\n        customSchemas.push(schema);\n        this.update();\n    }\n\n    /**\n     * Removes task subschema from `taskConfigurationSchema`.\n     *\n     * @param arg `$id` property of subschema\n     */\n    removeSubschema(arg: string): void {\n        const isRemoved = this.doRemoveSubschema(arg);\n        if (isRemoved) {\n            this.update();\n        }\n    }\n\n    /**\n     * Removes task subschema from `customSchemas`, use `update()` to apply the changes for `taskConfigurationSchema`.\n     *\n     * @param arg `$id` property of subschema\n     * @returns `true` if subschema was removed, `false` otherwise\n     */\n    protected doRemoveSubschema(arg: string): boolean {\n        const index = customSchemas.findIndex(existed => !!existed.$id && existed.$id === arg);\n        if (index > -1) {\n            customSchemas.splice(index, 1);\n            return true;\n        }\n        return false;\n    }\n\n    /** Returns an array of task types that are registered, including the default types */\n    async getRegisteredTaskTypes(): Promise<string[]> {\n        const serverSupportedTypes = await this.taskServer.getRegisteredTaskTypes();\n        const browserSupportedTypes = this.taskDefinitionRegistry.getAll().map(def => def.taskType);\n        const allTypes = new Set([...serverSupportedTypes, ...browserSupportedTypes]);\n        return Array.from(allTypes.values()).sort();\n    }\n\n    private updateSchemasForRegisteredTasks(): void {\n        customizedDetectedTasks.length = 0;\n        const definitions = this.taskDefinitionRegistry.getAll();\n        definitions.forEach(def => {\n            const customizedDetectedTask = {\n                type: 'object',\n                required: ['type'],\n                properties: {}\n            } as IJSONSchema;\n            const taskType = {\n                ...defaultTaskType,\n                enum: [def.taskType],\n                default: def.taskType,\n                description: 'The task type to customize'\n            };\n            customizedDetectedTask.properties!.type = taskType;\n            def.properties.all.forEach(taskProp => {\n                if (!!def.properties.required.find(requiredProp => requiredProp === taskProp)) { // property is mandatory\n                    customizedDetectedTask.required!.push(taskProp);\n                }\n                customizedDetectedTask.properties![taskProp] = { ...def.properties.schema.properties![taskProp] };\n            });\n            customizedDetectedTask.properties!.problemMatcher = problemMatcher;\n            customizedDetectedTask.properties!.options = commandOptionsSchema;\n            customizedDetectedTask.properties!.group = group;\n            customizedDetectedTask.additionalProperties = true;\n            customizedDetectedTasks.push(customizedDetectedTask);\n        });\n    }\n\n    /** Returns the task's JSON schema */\n    getTaskSchema(): IJSONSchema {\n        return {\n            type: 'object',\n            properties: {\n                version: {\n                    type: 'string'\n                },\n                tasks: {\n                    type: 'array',\n                    items: {\n                        ...deepClone(taskConfigurationSchema)\n                    }\n                },\n                inputs: inputsSchema.definitions!.inputs\n            },\n            additionalProperties: false\n        };\n    }\n\n    /** Returns the task's JSON schema as a string */\n    private getStrigifiedTaskSchema(): string {\n        return JSON.stringify(this.getTaskSchema());\n    }\n\n    /** Gets the most up-to-date names of problem matchers from the registry and update the task schema */\n    private updateProblemMatcherNames(): void {\n        const matcherNames = this.problemMatcherRegistry.getAll().map(m => m.name.startsWith('$') ? m.name : `$${m.name}`);\n        problemMatcherNames.length = 0;\n        problemMatcherNames.push(...matcherNames);\n        this.update();\n    }\n\n    private async updateSupportedTaskTypes(): Promise<void> {\n        this.updateSchemasForRegisteredTasks();\n        this.update();\n    }\n}\n\nconst commandSchema: IJSONSchema = {\n    type: 'string',\n    description: 'The actual command or script to execute'\n};\n\nconst commandArgSchema: IJSONSchema = {\n    type: 'array',\n    description: 'A list of strings, each one being one argument to pass to the command',\n    items: {\n        type: 'string'\n    }\n};\n\nconst commandOptionsSchema: IJSONSchema = {\n    type: 'object',\n    description: 'The command options used when the command is executed',\n    properties: {\n        cwd: {\n            type: 'string',\n            description: 'The directory in which the command will be executed',\n            default: '${workspaceFolder}'\n        },\n        env: {\n            type: 'object',\n            description: 'The environment of the executed program or shell. If omitted the parent process\\' environment is used'\n        },\n        shell: {\n            type: 'object',\n            description: 'Configuration of the shell when task type is `shell`',\n            properties: {\n                executable: {\n                    type: 'string',\n                    description: 'The shell to use'\n                },\n                args: {\n                    type: 'array',\n                    description: `The arguments to be passed to the shell executable to run in command mode\n                        (e.g ['-c'] for bash or ['/S', '/C'] for cmd.exe)`,\n                    items: {\n                        type: 'string'\n                    }\n                }\n            }\n        }\n    }\n};\n\nconst problemMatcherNames: string[] = [];\nconst defaultTaskTypes = ['shell', 'process'];\nconst supportedTaskTypes = [...defaultTaskTypes];\nconst taskLabel = {\n    type: 'string',\n    description: 'A unique string that identifies the task that is also used as task\\'s user interface label'\n};\nconst defaultTaskType = {\n    type: 'string',\n    enum: supportedTaskTypes,\n    default: defaultTaskTypes[0],\n    description: 'Determines what type of process will be used to execute the task. Only shell types will have output shown on the user interface'\n};\nconst commandAndArgs = {\n    command: commandSchema,\n    args: commandArgSchema,\n    options: commandOptionsSchema\n};\n\nconst group = {\n    oneOf: [\n        {\n            type: 'string'\n        },\n        {\n            type: 'object',\n            properties: {\n                kind: {\n                    type: 'string',\n                    default: 'none',\n                    description: 'The task\\'s execution group.'\n                },\n                isDefault: {\n                    type: 'boolean',\n                    default: false,\n                    description: 'Defines if this task is the default task in the group.'\n                }\n            }\n        }\n    ],\n    enum: [\n        { kind: 'build', isDefault: true },\n        { kind: 'test', isDefault: true },\n        'build',\n        'test',\n        'none'\n    ],\n    enumDescriptions: [\n        'Marks the task as the default build task.',\n        'Marks the task as the default test task.',\n        'Marks the task as a build task accessible through the \\'Run Build Task\\' command.',\n        'Marks the task as a test task accessible through the \\'Run Test Task\\' command.',\n        'Assigns the task to no group'\n    ],\n    // tslint:disable-next-line:max-line-length\n    description: 'Defines to which execution group this task belongs to. It supports \"build\" to add it to the build group and \"test\" to add it to the test group.'\n};\n\nconst problemPattern: IJSONSchema = {\n    default: {\n        regexp: '^([^\\\\\\\\s].*)\\\\\\\\((\\\\\\\\d+,\\\\\\\\d+)\\\\\\\\):\\\\\\\\s*(.*)$',\n        file: 1,\n        location: 2,\n        message: 3\n    },\n    type: 'object',\n    properties: {\n        regexp: {\n            type: 'string',\n            description: 'The regular expression to find an error, warning or info in the output.'\n        },\n        kind: {\n            type: 'string',\n            description: 'whether the pattern matches a location (file and line) or only a file.'\n        },\n        file: {\n            type: 'integer',\n            description: 'The match group index of the filename. If omitted 1 is used.'\n        },\n        location: {\n            type: 'integer',\n            description: 'The match group index of the problem\\'s location. Valid location patterns are: (line), (line,column) and (startLine,startColumn,endLine,endColumn). If omitted (line,column) is assumed.'\n        },\n        line: {\n            type: 'integer',\n            description: 'The match group index of the problem\\'s line. Defaults to 2'\n        },\n        column: {\n            type: 'integer',\n            description: 'The match group index of the problem\\'s line character. Defaults to 3'\n        },\n        endLine: {\n            type: 'integer',\n            description: 'The match group index of the problem\\'s end line. Defaults to undefined'\n        },\n        endColumn: {\n            type: 'integer',\n            description: 'The match group index of the problem\\'s end line character. Defaults to undefined'\n        },\n        severity: {\n            type: 'integer',\n            description: 'The match group index of the problem\\'s severity. Defaults to undefined'\n        },\n        code: {\n            type: 'integer',\n            description: 'The match group index of the problem\\'s code. Defaults to undefined'\n        },\n        message: {\n            type: 'integer',\n            description: 'The match group index of the message. If omitted it defaults to 4 if location is specified. Otherwise it defaults to 5.'\n        },\n        loop: {\n            type: 'boolean',\n            description: 'In a multi line matcher loop indicated whether this pattern is executed in a loop as long as it matches. Can only specified on a last pattern in a multi line pattern.'\n        }\n    }\n};\n\nconst multiLineProblemPattern: IJSONSchema = {\n    type: 'array',\n    items: problemPattern\n};\n\nconst watchingPattern: IJSONSchema = {\n    type: 'object',\n    additionalProperties: false,\n    properties: {\n        regexp: {\n            type: 'string',\n            description: 'The regular expression to detect the begin or end of a background task.'\n        },\n        file: {\n            type: 'integer',\n            description: 'The match group index of the filename. Can be omitted.'\n        },\n    }\n};\n\nconst patternType: IJSONSchema = {\n    anyOf: [\n        {\n            type: 'string',\n            description: 'The name of a contributed or predefined pattern'\n        },\n        problemPattern,\n        multiLineProblemPattern\n    ],\n    description: 'A problem pattern or the name of a contributed or predefined problem pattern. Can be omitted if base is specified.'\n};\n\nconst problemMatcherObject: IJSONSchema = {\n    type: 'object',\n    properties: {\n        base: {\n            type: 'string',\n            description: 'The name of a base problem matcher to use.'\n        },\n        owner: {\n            type: 'string',\n            description: 'The owner of the problem inside Code. Can be omitted if base is specified. Defaults to \\'external\\' if omitted and base is not specified.'\n        },\n        source: {\n            type: 'string',\n            description: 'A human-readable string describing the source of this diagnostic, e.g. \\'typescript\\' or \\'super lint\\'.'\n        },\n        severity: {\n            type: 'string',\n            enum: ['error', 'warning', 'info'],\n            description: 'The default severity for captures problems. Is used if the pattern doesn\\'t define a match group for severity.'\n        },\n        applyTo: {\n            type: 'string',\n            enum: ['allDocuments', 'openDocuments', 'closedDocuments'],\n            description: 'Controls if a problem reported on a text document is applied only to open, closed or all documents.'\n        },\n        pattern: patternType,\n        fileLocation: {\n            oneOf: [\n                {\n                    type: 'string',\n                    enum: ['absolute', 'relative', 'autoDetect']\n                },\n                {\n                    type: 'array',\n                    items: {\n                        type: 'string'\n                    }\n                }\n            ],\n            description: 'Defines how file names reported in a problem pattern should be interpreted.'\n        },\n        background: {\n            type: 'object',\n            additionalProperties: false,\n            description: 'Patterns to track the begin and end of a matcher active on a background task.',\n            properties: {\n                activeOnStart: {\n                    type: 'boolean',\n                    description: 'If set to true the background monitor is in active mode when the task starts. This is equals of issuing a line that matches the beginsPattern'\n                },\n                beginsPattern: {\n                    oneOf: [\n                        {\n                            type: 'string'\n                        },\n                        watchingPattern\n                    ],\n                    description: 'If matched in the output the start of a background task is signaled.'\n                },\n                endsPattern: {\n                    oneOf: [\n                        {\n                            type: 'string'\n                        },\n                        watchingPattern\n                    ],\n                    description: 'If matched in the output the end of a background task is signaled.'\n                }\n            }\n        },\n        watching: {\n            type: 'object',\n            additionalProperties: false,\n            deprecationMessage: 'The watching property is deprecated. Use background instead.',\n            description: 'Patterns to track the begin and end of a watching matcher.',\n            properties: {\n                activeOnStart: {\n                    type: 'boolean',\n                    description: 'If set to true the watcher is in active mode when the task starts. This is equals of issuing a line that matches the beginPattern'\n                },\n                beginsPattern: {\n                    oneOf: [\n                        {\n                            type: 'string'\n                        },\n                        watchingPattern\n                    ],\n                    description: 'If matched in the output the start of a watching task is signaled.'\n                },\n                endsPattern: {\n                    oneOf: [\n                        {\n                            type: 'string'\n                        },\n                        watchingPattern\n                    ],\n                    description: 'If matched in the output the end of a watching task is signaled.'\n                }\n            }\n        }\n    }\n};\n\nconst problemMatcher = {\n    anyOf: [\n        {\n            type: 'string',\n            description: 'Name of the problem matcher to parse the output of the task',\n            enum: problemMatcherNames\n        },\n        {\n            type: 'array',\n            description: 'Name(s) of the problem matcher(s) to parse the output of the task',\n            items: {\n                type: 'string',\n                enum: problemMatcherNames\n            }\n        },\n        problemMatcherObject,\n        {\n            type: 'array',\n            description: 'User defined problem matcher(s) to parse the output of the task',\n            items: problemMatcherObject\n        }\n    ]\n};\n\nconst processTaskConfigurationSchema: IJSONSchema = {\n    type: 'object',\n    required: ['type', 'label', 'command'],\n    properties: {\n        label: taskLabel,\n        type: defaultTaskType,\n        ...commandAndArgs,\n        windows: {\n            type: 'object',\n            description: 'Windows specific command configuration that overrides the command, args, and options',\n            properties: commandAndArgs\n        },\n        osx: {\n            type: 'object',\n            description: 'MacOS specific command configuration that overrides the command, args, and options',\n            properties: commandAndArgs\n        },\n        linux: {\n            type: 'object',\n            description: 'Linux specific command configuration that overrides the default command, args, and options',\n            properties: commandAndArgs\n        },\n        group,\n        problemMatcher\n    },\n    additionalProperties: true\n};\n\nconst customizedDetectedTasks: IJSONSchema[] = [];\nconst customSchemas: IJSONSchema[] = [];\n\nconst taskConfigurationSchema: IJSONSchema = {\n    $id: taskSchemaId,\n    anyOf: [processTaskConfigurationSchema, ...customizedDetectedTasks, ...customSchemas]\n};\n","/********************************************************************************\n * Copyright (C) 2017 Ericsson and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { ApplicationShell, FrontendApplication, WidgetManager } from '@theia/core/lib/browser';\nimport { open, OpenerService } from '@theia/core/lib/browser/opener-service';\nimport { ILogger, CommandService } from '@theia/core/lib/common';\nimport { MessageService } from '@theia/core/lib/common/message-service';\nimport { Deferred } from '@theia/core/lib/common/promise-util';\nimport { QuickPickItem, QuickPickService } from '@theia/core/lib/common/quick-pick-service';\nimport { LabelProvider } from '@theia/core/lib/browser/label-provider';\nimport URI from '@theia/core/lib/common/uri';\nimport { EditorManager } from '@theia/editor/lib/browser';\nimport { ProblemManager } from '@theia/markers/lib/browser/problem/problem-manager';\nimport { TerminalService } from '@theia/terminal/lib/browser/base/terminal-service';\nimport { TerminalWidget } from '@theia/terminal/lib/browser/base/terminal-widget';\nimport { TerminalWidgetFactoryOptions, TERMINAL_WIDGET_FACTORY_ID } from '@theia/terminal/lib/browser/terminal-widget-impl';\nimport { VariableResolverService } from '@theia/variable-resolver/lib/browser';\nimport { WorkspaceService } from '@theia/workspace/lib/browser/workspace-service';\nimport { inject, injectable, named, postConstruct } from 'inversify';\nimport { Range } from 'vscode-languageserver-types';\nimport {\n    NamedProblemMatcher,\n    ProblemMatchData,\n    ProblemMatcher,\n    RunTaskOption,\n    TaskConfiguration,\n    TaskCustomization,\n    TaskExitedEvent,\n    TaskInfo,\n    TaskOutputProcessedEvent,\n    TaskServer\n} from '../common';\nimport { TaskWatcher } from '../common/task-watcher';\nimport { ProvidedTaskConfigurations } from './provided-task-configurations';\nimport { TaskConfigurationClient, TaskConfigurations } from './task-configurations';\nimport { TaskProviderRegistry, TaskResolverRegistry } from './task-contribution';\nimport { TaskDefinitionRegistry } from './task-definition-registry';\nimport { TaskNameResolver } from './task-name-resolver';\nimport { TaskSourceResolver } from './task-source-resolver';\nimport { ProblemMatcherRegistry } from './task-problem-matcher-registry';\nimport { TaskSchemaUpdater } from './task-schema-updater';\nimport { TaskConfigurationManager } from './task-configuration-manager';\nimport { PROBLEMS_WIDGET_ID, ProblemWidget } from '@theia/markers/lib/browser/problem/problem-widget';\n\nexport interface QuickPickProblemMatcherItem {\n    problemMatchers: NamedProblemMatcher[] | undefined;\n    learnMore?: boolean;\n}\n\n@injectable()\nexport class TaskService implements TaskConfigurationClient {\n\n    /**\n     * The last executed task.\n     */\n    protected lastTask: { source: string, taskLabel: string } | undefined = undefined;\n    protected cachedRecentTasks: TaskConfiguration[] = [];\n    protected runningTasks = new Map<number, {\n        exitCode: Deferred<number | undefined>,\n        terminateSignal: Deferred<string | undefined>\n    }>();\n\n    @inject(FrontendApplication)\n    protected readonly app: FrontendApplication;\n\n    @inject(ApplicationShell)\n    protected readonly shell: ApplicationShell;\n\n    @inject(TaskServer)\n    protected readonly taskServer: TaskServer;\n\n    @inject(ILogger) @named('task')\n    protected readonly logger: ILogger;\n\n    @inject(WidgetManager)\n    protected readonly widgetManager: WidgetManager;\n\n    @inject(TaskWatcher)\n    protected readonly taskWatcher: TaskWatcher;\n\n    @inject(MessageService)\n    protected readonly messageService: MessageService;\n\n    @inject(WorkspaceService)\n    protected readonly workspaceService: WorkspaceService;\n\n    @inject(TaskConfigurations)\n    protected readonly taskConfigurations: TaskConfigurations;\n\n    @inject(ProvidedTaskConfigurations)\n    protected readonly providedTaskConfigurations: ProvidedTaskConfigurations;\n\n    @inject(VariableResolverService)\n    protected readonly variableResolverService: VariableResolverService;\n\n    @inject(TaskResolverRegistry)\n    protected readonly taskResolverRegistry: TaskResolverRegistry;\n\n    @inject(TerminalService)\n    protected readonly terminalService: TerminalService;\n\n    @inject(EditorManager)\n    protected readonly editorManager: EditorManager;\n\n    @inject(ProblemManager)\n    protected readonly problemManager: ProblemManager;\n\n    @inject(TaskDefinitionRegistry)\n    protected readonly taskDefinitionRegistry: TaskDefinitionRegistry;\n\n    @inject(ProblemMatcherRegistry)\n    protected readonly problemMatcherRegistry: ProblemMatcherRegistry;\n\n    @inject(QuickPickService)\n    protected readonly quickPick: QuickPickService;\n\n    @inject(OpenerService)\n    protected readonly openerService: OpenerService;\n\n    @inject(TaskNameResolver)\n    protected readonly taskNameResolver: TaskNameResolver;\n\n    @inject(TaskSourceResolver)\n    protected readonly taskSourceResolver: TaskSourceResolver;\n\n    @inject(TaskSchemaUpdater)\n    protected readonly taskSchemaUpdater: TaskSchemaUpdater;\n\n    @inject(TaskConfigurationManager)\n    protected readonly taskConfigurationManager: TaskConfigurationManager;\n\n    @inject(CommandService)\n    protected readonly commands: CommandService;\n\n    @inject(LabelProvider)\n    protected readonly labelProvider: LabelProvider;\n    /**\n     * @deprecated To be removed in 0.5.0\n     */\n    @inject(TaskProviderRegistry)\n    protected readonly taskProviderRegistry: TaskProviderRegistry;\n\n    @postConstruct()\n    protected init(): void {\n        this.getRunningTasks().then(tasks =>\n            tasks.forEach(task => {\n                if (!this.runningTasks.has(task.taskId)) {\n                    this.runningTasks.set(task.taskId, { exitCode: new Deferred<number | undefined>(), terminateSignal: new Deferred<string | undefined>() });\n                }\n            }));\n\n        // notify user that task has started\n        this.taskWatcher.onTaskCreated((event: TaskInfo) => {\n            if (!this.isEventForThisClient(event.ctx)) {\n                return;\n            }\n            this.runningTasks.set(event.taskId, { exitCode: new Deferred<number | undefined>(), terminateSignal: new Deferred<string | undefined>() });\n            const taskConfig = event.config;\n            const taskIdentifier = taskConfig ? this.getTaskIdentifier(taskConfig) : event.taskId.toString();\n            this.messageService.info(`Task '${taskIdentifier}' has been started.`);\n        });\n\n        this.taskWatcher.onOutputProcessed((event: TaskOutputProcessedEvent) => {\n            if (!this.isEventForThisClient(event.ctx)) {\n                return;\n            }\n            if (event.problems) {\n                event.problems.forEach(problem => {\n                    const existingMarkers = this.problemManager.findMarkers({ owner: problem.description.owner });\n                    const uris = new Set<string>();\n                    existingMarkers.forEach(marker => uris.add(marker.uri));\n                    if (ProblemMatchData.is(problem) && problem.resource) {\n                        const uri = new URI(problem.resource.path).withScheme(problem.resource.scheme);\n                        if (uris.has(uri.toString())) {\n                            const newData = [\n                                ...existingMarkers\n                                    .filter(marker => marker.uri === uri.toString())\n                                    .map(markerData => markerData.data),\n                                problem.marker\n                            ];\n                            this.problemManager.setMarkers(uri, problem.description.owner, newData);\n                        } else {\n                            this.problemManager.setMarkers(uri, problem.description.owner, [problem.marker]);\n                        }\n                    } else { // should have received an event for finding the \"background task begins\" pattern\n                        uris.forEach(uriString => this.problemManager.setMarkers(new URI(uriString), problem.description.owner, []));\n                    }\n                });\n            }\n        });\n\n        // notify user that task has finished\n        this.taskWatcher.onTaskExit((event: TaskExitedEvent) => {\n            if (!this.isEventForThisClient(event.ctx)) {\n                return;\n            }\n            if (!this.runningTasks.has(event.taskId)) {\n                this.runningTasks.set(event.taskId, { exitCode: new Deferred<number | undefined>(), terminateSignal: new Deferred<string | undefined>() });\n            }\n            this.runningTasks.get(event.taskId)!.exitCode.resolve(event.code);\n            this.runningTasks.get(event.taskId)!.terminateSignal.resolve(event.signal);\n            setTimeout(() => this.runningTasks.delete(event.taskId), 60 * 1000);\n\n            const taskConfig = event.config;\n            const taskIdentifier = taskConfig ? this.getTaskIdentifier(taskConfig) : event.taskId.toString();\n            if (event.code !== undefined) {\n                const message = `Task '${taskIdentifier}' has exited with code ${event.code}.`;\n                if (event.code === 0) {\n                    this.messageService.info(message);\n                } else {\n                    this.messageService.error(message);\n                }\n            } else if (event.signal !== undefined) {\n                this.messageService.info(`Task '${taskIdentifier}' was terminated by signal ${event.signal}.`);\n            } else {\n                console.error('Invalid TaskExitedEvent received, neither code nor signal is set.');\n            }\n        });\n    }\n\n    private getTaskIdentifier(taskConfig: TaskConfiguration): string {\n        const taskName = this.taskNameResolver.resolve(taskConfig);\n        const sourceStrUri = this.taskSourceResolver.resolve(taskConfig);\n        return `${taskName} (${this.labelProvider.getName(new URI(sourceStrUri))})`;\n    }\n\n    /** Returns an array of the task configurations configured in tasks.json and provided by the extensions. */\n    async getTasks(): Promise<TaskConfiguration[]> {\n        const configuredTasks = await this.getConfiguredTasks();\n        const providedTasks = await this.getProvidedTasks();\n        const notCustomizedProvidedTasks = providedTasks.filter(provided =>\n            !configuredTasks.some(configured => this.taskDefinitionRegistry.compareTasks(configured, provided))\n        );\n        return [...configuredTasks, ...notCustomizedProvidedTasks];\n    }\n\n    /** Returns an array of the valid task configurations which are configured in tasks.json files */\n    async getConfiguredTasks(): Promise<TaskConfiguration[]> {\n        const invalidTaskConfig = this.taskConfigurations.getInvalidTaskConfigurations()[0];\n        if (invalidTaskConfig) {\n            const widget = <ProblemWidget>await this.widgetManager.getOrCreateWidget(PROBLEMS_WIDGET_ID);\n            const isProblemsWidgetVisible = widget && widget.isVisible;\n            const currentEditorUri = this.editorManager.currentEditor && this.editorManager.currentEditor.editor.getResourceUri();\n            let isInvalidTaskConfigFileOpen = false;\n            if (currentEditorUri) {\n                const folderUri = this.workspaceService.getWorkspaceRootUri(currentEditorUri);\n                if (folderUri && folderUri.toString() === invalidTaskConfig._scope) {\n                    isInvalidTaskConfigFileOpen = true;\n                }\n            }\n            const warningMessage = 'Invalid task configurations are found. Open tasks.json and find details in the Problems view.';\n            if (!isProblemsWidgetVisible || !isInvalidTaskConfigFileOpen) {\n                this.messageService.warn(warningMessage, 'Open').then(actionOpen => {\n                    if (actionOpen) {\n                        if (invalidTaskConfig && invalidTaskConfig._scope) {\n                            this.taskConfigurationManager.openConfiguration(invalidTaskConfig._scope);\n                        }\n                        if (!isProblemsWidgetVisible) {\n                            this.commands.executeCommand('problemsView:toggle');\n                        }\n                    }\n                });\n            } else {\n                this.messageService.warn(warningMessage);\n            }\n        }\n\n        const validTaskConfigs = await this.taskConfigurations.getTasks();\n        return validTaskConfigs;\n    }\n\n    /** Returns an array of the task configurations which are provided by the extensions. */\n    getProvidedTasks(): Promise<TaskConfiguration[]> {\n        return this.providedTaskConfigurations.getTasks();\n    }\n\n    addRecentTasks(tasks: TaskConfiguration | TaskConfiguration[]): void {\n        if (Array.isArray(tasks)) {\n            tasks.forEach(task => this.addRecentTasks(task));\n        } else {\n            const ind = this.cachedRecentTasks.findIndex(recent => this.taskDefinitionRegistry.compareTasks(recent, tasks));\n            if (ind >= 0) {\n                this.cachedRecentTasks.splice(ind, 1);\n            }\n            this.cachedRecentTasks.unshift(tasks);\n        }\n    }\n\n    get recentTasks(): TaskConfiguration[] {\n        return this.cachedRecentTasks;\n    }\n\n    set recentTasks(recent: TaskConfiguration[]) {\n        this.cachedRecentTasks = recent;\n    }\n\n    /**\n     * Clears the list of recently used tasks.\n     */\n    clearRecentTasks(): void {\n        this.cachedRecentTasks = [];\n    }\n\n    /**\n     * Returns a task configuration provided by an extension by task source and label.\n     * If there are no task configuration, returns undefined.\n     */\n    async getProvidedTask(source: string, label: string): Promise<TaskConfiguration | undefined> {\n        return this.providedTaskConfigurations.getTask(source, label);\n    }\n\n    /** Returns an array of running tasks 'TaskInfo' objects */\n    getRunningTasks(): Promise<TaskInfo[]> {\n        return this.taskServer.getTasks(this.getContext());\n    }\n\n    /** Returns an array of task types that are registered, including the default types */\n    getRegisteredTaskTypes(): Promise<string[]> {\n        return this.taskSchemaUpdater.getRegisteredTaskTypes();\n    }\n\n    /**\n     * Get the last executed task.\n     *\n     * @returns the last executed task or `undefined`.\n     */\n    getLastTask(): { source: string, taskLabel: string } | undefined {\n        return this.lastTask;\n    }\n\n    /**\n     * Runs a task, by task configuration label.\n     * Note, it looks for a task configured in tasks.json only.\n     */\n    async runConfiguredTask(source: string, taskLabel: string): Promise<void> {\n        const task = this.taskConfigurations.getTask(source, taskLabel);\n        if (!task) {\n            this.logger.error(`Can't get task launch configuration for label: ${taskLabel}`);\n            return;\n        }\n\n        this.run(source, taskLabel);\n    }\n\n    /**\n     * Run the last executed task.\n     */\n    async runLastTask(): Promise<TaskInfo | undefined> {\n        if (!this.lastTask) {\n            return;\n        }\n        const { source, taskLabel } = this.lastTask;\n        return this.run(source, taskLabel);\n    }\n\n    /**\n     * Runs a task, by the source and label of the task configuration.\n     * It looks for configured and detected tasks.\n     */\n    async run(source: string, taskLabel: string): Promise<TaskInfo | undefined> {\n        let task = await this.getProvidedTask(source, taskLabel);\n        if (!task) { // if a detected task cannot be found, search from tasks.json\n            task = this.taskConfigurations.getTask(source, taskLabel);\n            if (!task) {\n                this.logger.error(`Can't get task launch configuration for label: ${taskLabel}`);\n                return;\n            }\n        }\n        const customizationObject = await this.getTaskCustomization(task);\n\n        if (!customizationObject.problemMatcher) {\n            // ask the user what s/he wants to use to parse the task output\n            const items = this.getCustomizeProblemMatcherItems();\n            const selected = await this.quickPick.show(items, {\n                placeholder: 'Select for which kind of errors and warnings to scan the task output'\n            });\n            if (selected) {\n                if (selected.problemMatchers) {\n                    let matcherNames: string[] = [];\n                    if (selected.problemMatchers && selected.problemMatchers.length === 0) { // never parse output for this task\n                        matcherNames = [];\n                    } else if (selected.problemMatchers && selected.problemMatchers.length > 0) { // continue with user-selected parser\n                        matcherNames = selected.problemMatchers.map(matcher => matcher.name);\n                    }\n                    customizationObject.problemMatcher = matcherNames;\n\n                    // write the selected matcher (or the decision of \"never parse\") into the `tasks.json`\n                    this.updateTaskConfiguration(task, { problemMatcher: matcherNames });\n                } else if (selected.learnMore) { // user wants to learn more about parsing task output\n                    open(this.openerService, new URI('https://code.visualstudio.com/docs/editor/tasks#_processing-task-output-with-problem-matchers'));\n                }\n                // else, continue the task with no parser\n            } else { // do not start the task in case that the user did not select any item from the list\n                return;\n            }\n        }\n\n        const resolvedMatchers = await this.resolveProblemMatchers(task, customizationObject);\n        return this.runTask(task, {\n            customization: { ...customizationObject, ...{ problemMatcher: resolvedMatchers } }\n        });\n    }\n\n    async runTask(task: TaskConfiguration, option?: RunTaskOption): Promise<TaskInfo | undefined> {\n        const runningTasksInfo: TaskInfo[] = await this.getRunningTasks();\n\n        // check if the task is active\n        const matchedRunningTaskInfo = runningTasksInfo.find(taskInfo => {\n            const taskConfig = taskInfo.config;\n            return this.taskDefinitionRegistry.compareTasks(taskConfig, task);\n        });\n        if (matchedRunningTaskInfo) { // the task is active\n            const taskName = this.taskNameResolver.resolve(task);\n            const terminalId = matchedRunningTaskInfo.terminalId;\n            if (terminalId) {\n                const terminal = this.terminalService.getById(this.getTerminalWidgetId(terminalId));\n                if (terminal) {\n                    this.shell.activateWidget(terminal.id); // make the terminal visible and assign focus\n                }\n            }\n            const selectedAction = await this.messageService.info(`The task '${taskName}' is already active`, 'Terminate Task', 'Restart Task');\n            if (selectedAction === 'Terminate Task') {\n                await this.terminateTask(matchedRunningTaskInfo);\n            } else if (selectedAction === 'Restart Task') {\n                return this.restartTask(matchedRunningTaskInfo, option);\n            }\n        } else { // run task as the task is not active\n            return this.doRunTask(task, option);\n        }\n    }\n\n    /**\n     * Terminates a task that is actively running.\n     * @param activeTaskInfo the TaskInfo of the task that is actively running\n     */\n    protected async terminateTask(activeTaskInfo: TaskInfo): Promise<void> {\n        const taskId = activeTaskInfo.taskId;\n        return this.kill(taskId);\n    }\n\n    /**\n     * Terminates a task that is actively running, and restarts it.\n     * @param activeTaskInfo the TaskInfo of the task that is actively running\n     */\n    protected async restartTask(activeTaskInfo: TaskInfo, option?: RunTaskOption): Promise<TaskInfo | undefined> {\n        await this.terminateTask(activeTaskInfo);\n        return this.doRunTask(activeTaskInfo.config, option);\n    }\n\n    protected async doRunTask(task: TaskConfiguration, option?: RunTaskOption): Promise<TaskInfo | undefined> {\n        if (option && option.customization) {\n            const taskDefinition = this.taskDefinitionRegistry.getDefinition(task);\n            if (taskDefinition) { // use the customization object to override the task config\n                Object.keys(option.customization).forEach(customizedProperty => {\n                    // properties used to define the task cannot be customized\n                    if (customizedProperty !== 'type' && !taskDefinition.properties.all.some(pDefinition => pDefinition === customizedProperty)) {\n                        task[customizedProperty] = option.customization![customizedProperty];\n                    }\n                });\n            }\n        }\n\n        const resolvedTask = await this.getResolvedTask(task);\n        if (resolvedTask) {\n            // remove problem markers from the same source before running the task\n            await this.removeProblemMarks(option);\n            return this.runResolvedTask(resolvedTask, option);\n        }\n    }\n\n    async runTaskByLabel(taskLabel: string): Promise<TaskInfo | undefined> {\n        const tasks: TaskConfiguration[] = await this.getTasks();\n        for (const task of tasks) {\n            if (task.label === taskLabel) {\n                return this.runTask(task);\n            }\n        }\n\n        return;\n    }\n\n    async runWorkspaceTask(workspaceFolderUri: string | undefined, taskName: string): Promise<TaskInfo | undefined> {\n        const tasks = await this.getWorkspaceTasks(workspaceFolderUri);\n        const task = tasks.filter(t => taskName === this.taskNameResolver.resolve(t))[0];\n        if (!task) {\n            return undefined;\n        }\n\n        const taskCustomization = await this.getTaskCustomization(task);\n        const resolvedMatchers = await this.resolveProblemMatchers(task, taskCustomization);\n\n        return this.runTask(task, {\n            customization: { ...taskCustomization, ...{ problemMatcher: resolvedMatchers } }\n        });\n    }\n\n    /**\n     * Updates the task configuration in the `tasks.json`.\n     * The task config, together with updates, will be written into the `tasks.json` if it is not found in the file.\n     *\n     * @param task task that the updates will be applied to\n     * @param update the updates to be appplied\n     */\n    // tslint:disable-next-line:no-any\n    async updateTaskConfiguration(task: TaskConfiguration, update: { [name: string]: any }): Promise<void> {\n        if (update.problemMatcher) {\n            if (Array.isArray(update.problemMatcher)) {\n                update.problemMatcher.forEach((name, index) => {\n                    if (!name.startsWith('$')) {\n                        update.problemMatcher[index] = `$${update.problemMatcher[index]}`;\n                    }\n                });\n            } else if (!update.problemMatcher.startsWith('$')) {\n                update.problemMatcher = `$${update.problemMatcher}`;\n            }\n        }\n        this.taskConfigurations.updateTaskConfig(task, update);\n    }\n\n    protected async getWorkspaceTasks(workspaceFolderUri: string | undefined): Promise<TaskConfiguration[]> {\n        const tasks = await this.getTasks();\n        return tasks.filter(t => t._scope === workspaceFolderUri || t._scope === undefined);\n    }\n\n    protected async resolveProblemMatchers(task: TaskConfiguration, customizationObject: TaskCustomization): Promise<ProblemMatcher[] | undefined> {\n        const notResolvedMatchers = customizationObject.problemMatcher ?\n            (Array.isArray(customizationObject.problemMatcher) ? customizationObject.problemMatcher : [customizationObject.problemMatcher]) : undefined;\n        let resolvedMatchers: ProblemMatcher[] | undefined = [];\n        if (notResolvedMatchers) {\n            // resolve matchers before passing them to the server\n            for (const matcher of notResolvedMatchers) {\n                let resolvedMatcher: ProblemMatcher | undefined;\n                await this.problemMatcherRegistry.onReady();\n                if (typeof matcher === 'string') {\n                    resolvedMatcher = this.problemMatcherRegistry.get(matcher);\n                } else {\n                    resolvedMatcher = await this.problemMatcherRegistry.getProblemMatcherFromContribution(matcher);\n                }\n                if (resolvedMatcher) {\n                    const scope = task._scope || task._source;\n                    if (resolvedMatcher.filePrefix && scope) {\n                        const options = {\n                            context: new URI(scope).withScheme('file'),\n                            configurationSection: 'tasks'\n                        };\n                        const resolvedPrefix = await this.variableResolverService.resolve(resolvedMatcher.filePrefix, options);\n                        Object.assign(resolvedMatcher, { filePrefix: resolvedPrefix });\n                    }\n                    resolvedMatchers.push(resolvedMatcher);\n                }\n            }\n        } else {\n            resolvedMatchers = undefined;\n        }\n        return resolvedMatchers;\n    }\n\n    protected async getTaskCustomization(task: TaskConfiguration): Promise<TaskCustomization> {\n        const customizationObject: TaskCustomization = { type: '' };\n        const customizationFound = this.taskConfigurations.getCustomizationForTask(task);\n        if (customizationFound) {\n            Object.assign(customizationObject, customizationFound);\n        } else {\n            Object.assign(customizationObject, {\n                type: task.type,\n                problemMatcher: task.problemMatcher\n            });\n        }\n        return customizationObject;\n    }\n\n    private async removeProblemMarks(option?: RunTaskOption): Promise<void> {\n        if (option && option.customization) {\n            const matchersFromOption = option.customization.problemMatcher || [];\n            for (const matcher of matchersFromOption) {\n                if (matcher && matcher.owner) {\n                    const existingMarkers = this.problemManager.findMarkers({ owner: matcher.owner });\n                    const uris = new Set<string>();\n                    existingMarkers.forEach(marker => uris.add(marker.uri));\n                    uris.forEach(uriString => this.problemManager.setMarkers(new URI(uriString), matcher.owner, []));\n                }\n            }\n        }\n    }\n\n    private async getResolvedTask(task: TaskConfiguration): Promise<TaskConfiguration | undefined> {\n        const resolver = await this.taskResolverRegistry.getResolver(task.type);\n        try {\n            const resolvedTask = resolver ? await resolver.resolveTask(task) : task;\n            this.addRecentTasks(task);\n            return resolvedTask;\n        } catch (error) {\n            const errMessage = `Error resolving task '${task.label}': ${error}`;\n            this.logger.error(errMessage);\n            this.messageService.error(errMessage);\n        }\n    }\n\n    /**\n     * Runs the resolved task and opens terminal widget if the task is based on a terminal process\n     * @param resolvedTask the resolved task\n     * @param option options to run the resolved task\n     */\n    private async runResolvedTask(resolvedTask: TaskConfiguration, option?: RunTaskOption): Promise<TaskInfo | undefined> {\n        const source = resolvedTask._source;\n        const taskLabel = resolvedTask.label;\n        try {\n            const taskInfo = await this.taskServer.run(resolvedTask, this.getContext(), option);\n            this.lastTask = { source, taskLabel };\n            this.logger.debug(`Task created. Task id: ${taskInfo.taskId}`);\n\n            /**\n             * open terminal widget if the task is based on a terminal process (type: 'shell' or 'process')\n             *\n             * @todo Use a different mechanism to determine if the task should be attached?\n             *       Reason: Maybe a new task type wants to also be displayed in a terminal.\n             */\n            if (typeof taskInfo.terminalId === 'number') {\n                this.attach(taskInfo.terminalId, taskInfo.taskId);\n            }\n            return taskInfo;\n        } catch (error) {\n            const errorStr = `Error launching task '${taskLabel}': ${error.message}`;\n            this.logger.error(errorStr);\n            this.messageService.error(errorStr);\n        }\n    }\n\n    private getCustomizeProblemMatcherItems(): QuickPickItem<QuickPickProblemMatcherItem>[] {\n        const items: QuickPickItem<QuickPickProblemMatcherItem>[] = [];\n        items.push({\n            label: 'Continue without scanning the task output',\n            value: { problemMatchers: undefined }\n        });\n        items.push({\n            label: 'Never scan the task output',\n            value: { problemMatchers: [] }\n        });\n        items.push({\n            label: 'Learn more about scanning the task output',\n            value: { problemMatchers: undefined, learnMore: true }\n        });\n        items.push({ type: 'separator', label: 'registered parsers' });\n\n        const registeredProblemMatchers = this.problemMatcherRegistry.getAll();\n        items.push(...registeredProblemMatchers.map(matcher =>\n            ({\n                label: matcher.label,\n                value: { problemMatchers: [matcher] },\n                description: matcher.name.startsWith('$') ? matcher.name : `$${matcher.name}`\n            })\n        ));\n        return items;\n    }\n\n    /**\n     * Run selected text in the last active terminal.\n     */\n    async runSelectedText(): Promise<void> {\n        if (!this.editorManager.currentEditor) { return; }\n        const startLine = this.editorManager.currentEditor.editor.selection.start.line;\n        const startCharacter = this.editorManager.currentEditor.editor.selection.start.character;\n        const endLine = this.editorManager.currentEditor.editor.selection.end.line;\n        const endCharacter = this.editorManager.currentEditor.editor.selection.end.character;\n        let selectedRange: Range = Range.create(startLine, startCharacter, endLine, endCharacter);\n        // if no text is selected, default to selecting entire line\n        if (startLine === endLine && startCharacter === endCharacter) {\n            selectedRange = Range.create(startLine, 0, endLine + 1, 0);\n        }\n        const selectedText: string = this.editorManager.currentEditor.editor.document.getText(selectedRange).trimRight() + '\\n';\n        let terminal = this.terminalService.currentTerminal;\n        if (!terminal) {\n            terminal = <TerminalWidget>await this.terminalService.newTerminal(<TerminalWidgetFactoryOptions>{ created: new Date().toString() });\n            await terminal.start();\n            this.terminalService.activateTerminal(terminal);\n        }\n        terminal.sendText(selectedText);\n    }\n\n    async attach(processId: number, taskId: number): Promise<void> {\n        // Get the list of all available running tasks.\n        const runningTasks: TaskInfo[] = await this.getRunningTasks();\n        // Get the corresponding task information based on task id if available.\n        const taskInfo: TaskInfo | undefined = runningTasks.find((t: TaskInfo) => t.taskId === taskId);\n        // Create terminal widget to display an execution output of a task that was launched as a command inside a shell.\n        const widget = <TerminalWidget>await this.widgetManager.getOrCreateWidget(\n            TERMINAL_WIDGET_FACTORY_ID,\n            <TerminalWidgetFactoryOptions>{\n                created: new Date().toString(),\n                id: this.getTerminalWidgetId(processId),\n                title: taskInfo\n                    ? `Task: ${taskInfo.config.label}`\n                    : `Task: #${taskId}`,\n                destroyTermOnClose: true\n            }\n        );\n        this.shell.addWidget(widget, { area: 'bottom' });\n        this.shell.activateWidget(widget.id);\n        widget.start(processId);\n    }\n\n    private getTerminalWidgetId(terminalId: number): string {\n        return `${TERMINAL_WIDGET_FACTORY_ID}-${terminalId}`;\n    }\n\n    async configure(task: TaskConfiguration): Promise<void> {\n        await this.taskConfigurations.configure(task);\n    }\n\n    protected isEventForThisClient(context: string | undefined): boolean {\n        if (context === this.getContext()) {\n            return true;\n        }\n        return false;\n    }\n\n    taskConfigurationChanged(event: string[]): void {\n        // do nothing for now\n    }\n\n    protected getContext(): string | undefined {\n        return this.workspaceService.workspace && this.workspaceService.workspace.uri;\n    }\n\n    /** Kill task for a given id if task is found */\n    async kill(id: number): Promise<void> {\n        try {\n            await this.taskServer.kill(id);\n        } catch (error) {\n            this.logger.error(`Error killing task '${id}': ${error}`);\n            this.messageService.error(`Error killing task '${id}': ${error}`);\n            return;\n        }\n        this.logger.debug(`Task killed. Task id: ${id}`);\n    }\n\n    async getExitCode(id: number): Promise<number | undefined> {\n        const completedTask = this.runningTasks.get(id);\n        return completedTask && completedTask.exitCode.promise;\n    }\n\n    async getTerminateSignal(id: number): Promise<string | undefined> {\n        const completedTask = this.runningTasks.get(id);\n        return completedTask && completedTask.terminateSignal.promise;\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2019 Ericsson and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { inject, injectable } from 'inversify';\nimport { TaskConfiguration, ContributedTaskConfiguration } from '../common';\nimport { TaskDefinitionRegistry } from './task-definition-registry';\n\n@injectable()\nexport class TaskSourceResolver {\n    @inject(TaskDefinitionRegistry)\n    protected taskDefinitionRegistry: TaskDefinitionRegistry;\n\n    /**\n     * Returns task source to display.\n     */\n    resolve(task: TaskConfiguration): string | undefined {\n        const isDetectedTask = this.isDetectedTask(task);\n        let sourceFolderUri: string | undefined;\n        if (isDetectedTask) {\n            sourceFolderUri = task._scope;\n        } else {\n            sourceFolderUri = task._source;\n        }\n        return sourceFolderUri;\n    }\n\n    private isDetectedTask(task: TaskConfiguration): task is ContributedTaskConfiguration {\n        return !!this.taskDefinitionRegistry.getDefinition(task);\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2019 Ericsson and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { injectable } from 'inversify';\nimport { QuickPickItem } from '@theia/core/lib/common/quick-pick-service';\n\n/** The representation of a task template used in the auto-generation of `tasks.json` */\nexport interface TaskTemplateEntry {\n    id: string;\n    label: string;\n    description: string;\n    sort?: string; // string used in the sorting. If `undefined` the label is used in sorting.\n    autoDetect: boolean; // not supported in Theia\n    content: string;\n}\n\nconst dotnetBuild: TaskTemplateEntry = {\n    id: 'dotnetCore',\n    label: '.NET Core',\n    sort: 'NET Core',\n    autoDetect: false, // not supported in Theia\n    description: 'Executes .NET Core build command',\n    content: [\n        '{',\n        '\\t// See https://go.microsoft.com/fwlink/?LinkId=733558',\n        '\\t// for the documentation about the tasks.json format',\n        '\\t\"version\": \"2.0.0\",',\n        '\\t\"tasks\": [',\n        '\\t\\t{',\n        '\\t\\t\\t\"label\": \"build\",',\n        '\\t\\t\\t\"command\": \"dotnet\",',\n        '\\t\\t\\t\"type\": \"shell\",',\n        '\\t\\t\\t\"args\": [',\n        '\\t\\t\\t\\t\"build\",',\n        '\\t\\t\\t\\t// Ask dotnet build to generate full paths for file names.',\n        '\\t\\t\\t\\t\"/property:GenerateFullPaths=true\",',\n        '\\t\\t\\t\\t// Do not generate summary otherwise it leads to duplicate errors in Problems panel',\n        '\\t\\t\\t\\t\"/consoleloggerparameters:NoSummary\"',\n        '\\t\\t\\t],',\n        '\\t\\t\\t\"group\": \"build\",',\n        '\\t\\t\\t\"presentation\": {',\n        '\\t\\t\\t\\t\"reveal\": \"silent\"',\n        '\\t\\t\\t},',\n        '\\t\\t\\t\"problemMatcher\": \"$msCompile\"',\n        '\\t\\t}',\n        '\\t]',\n        '}'\n    ].join('\\n')\n};\n\nconst msbuild: TaskTemplateEntry = {\n    id: 'msbuild',\n    label: 'MSBuild',\n    autoDetect: false, // not supported in Theia\n    description: 'Executes the build target',\n    content: [\n        '{',\n        '\\t// See https://go.microsoft.com/fwlink/?LinkId=733558',\n        '\\t// for the documentation about the tasks.json format',\n        '\\t\"version\": \"2.0.0\",',\n        '\\t\"tasks\": [',\n        '\\t\\t{',\n        '\\t\\t\\t\"label\": \"build\",',\n        '\\t\\t\\t\"type\": \"shell\",',\n        '\\t\\t\\t\"command\": \"msbuild\",',\n        '\\t\\t\\t\"args\": [',\n        '\\t\\t\\t\\t// Ask msbuild to generate full paths for file names.',\n        '\\t\\t\\t\\t\"/property:GenerateFullPaths=true\",',\n        '\\t\\t\\t\\t\"/t:build\",',\n        '\\t\\t\\t\\t// Do not generate summary otherwise it leads to duplicate errors in Problems panel',\n        '\\t\\t\\t\\t\"/consoleloggerparameters:NoSummary\"',\n        '\\t\\t\\t],',\n        '\\t\\t\\t\"group\": \"build\",',\n        '\\t\\t\\t\"presentation\": {',\n        '\\t\\t\\t\\t// Reveal the output only if unrecognized errors occur.',\n        '\\t\\t\\t\\t\"reveal\": \"silent\"',\n        '\\t\\t\\t},',\n        '\\t\\t\\t// Use the standard MS compiler pattern to detect errors, warnings and infos',\n        '\\t\\t\\t\"problemMatcher\": \"$msCompile\"',\n        '\\t\\t}',\n        '\\t]',\n        '}'\n    ].join('\\n')\n};\n\nconst maven: TaskTemplateEntry = {\n    id: 'maven',\n    label: 'maven',\n    sort: 'MVN',\n    autoDetect: false, // not supported in Theia\n    description: 'Executes common maven commands',\n    content: [\n        '{',\n        '\\t// See https://go.microsoft.com/fwlink/?LinkId=733558',\n        '\\t// for the documentation about the tasks.json format',\n        '\\t\"version\": \"2.0.0\",',\n        '\\t\"tasks\": [',\n        '\\t\\t{',\n        '\\t\\t\\t\"label\": \"verify\",',\n        '\\t\\t\\t\"type\": \"shell\",',\n        '\\t\\t\\t\"command\": \"mvn -B verify\",',\n        '\\t\\t\\t\"group\": \"build\"',\n        '\\t\\t},',\n        '\\t\\t{',\n        '\\t\\t\\t\"label\": \"test\",',\n        '\\t\\t\\t\"type\": \"shell\",',\n        '\\t\\t\\t\"command\": \"mvn -B test\",',\n        '\\t\\t\\t\"group\": \"test\"',\n        '\\t\\t}',\n        '\\t]',\n        '}'\n    ].join('\\n')\n};\n\nconst command: TaskTemplateEntry = {\n    id: 'externalCommand',\n    label: 'Others',\n    autoDetect: false, // not supported in Theia\n    description: 'Example to run an arbitrary external command',\n    content: [\n        '{',\n        '\\t// See https://go.microsoft.com/fwlink/?LinkId=733558',\n        '\\t// for the documentation about the tasks.json format',\n        '\\t\"version\": \"2.0.0\",',\n        '\\t\"tasks\": [',\n        '\\t\\t{',\n        '\\t\\t\\t\"label\": \"echo\",',\n        '\\t\\t\\t\"type\": \"shell\",',\n        '\\t\\t\\t\"command\": \"echo Hello\"',\n        '\\t\\t}',\n        '\\t]',\n        '}'\n    ].join('\\n')\n};\n\n@injectable()\nexport class TaskTemplateSelector {\n    selectTemplates(): QuickPickItem<TaskTemplateEntry>[] {\n        const templates: TaskTemplateEntry[] = [\n            dotnetBuild, msbuild, maven\n        ].sort((a, b) =>\n            (a.sort || a.label).localeCompare(b.sort || b.label)\n        );\n        templates.push(command);\n        return templates.map(t => ({\n            label: t.label,\n            description: t.description,\n            value: t\n        }));\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2019 Ericsson and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nmonaco.languages.register({\n    id: 'jsonc',\n    'aliases': [\n        'JSON with Comments'\n    ],\n    'filenames': [\n        'tasks.json'\n    ]\n});\n","/********************************************************************************\n * Copyright (C) 2018 Ericsson and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { interfaces } from 'inversify';\nimport { ILogger } from '@theia/core';\nimport { TaskWatcher } from './task-watcher';\n\n/**\n * Create the bindings common to node and browser.\n *\n * @param bind The bind function from inversify.\n */\nexport function createCommonBindings(bind: interfaces.Bind): void {\n\n    bind(ILogger).toDynamicValue(ctx => {\n        const logger = ctx.container.get<ILogger>(ILogger);\n        return logger.child('task');\n    }).inSingletonScope().whenTargetNamed('task');\n\n    bind(TaskWatcher).toSelf().inSingletonScope();\n}\n","module.exports = \"data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi4tLT4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiI+PGcgZmlsbD0iI0M1QzVDNSI+PHBhdGggZD0iTTEyLjcxNCA5LjYwM2MtLjA3LjIwNy0uMTUuNDA3LS4yNDYuNjAxbDEuMDE3IDIuMTM5Yy0uMzM1LjQyNC0uNzE4LjgwNy0xLjE0MiAxLjE0M2wtMi4xNC0xLjAxOGMtLjE5My4wOTctLjM5NC4xNzYtLjYwMS4yNDdsLS43OTUgMi4yMzVjLS4yNjUuMDMtLjUzNC4wNS0uODA3LjA1LS4yNzIgMC0uNTQxLS4wMi0uODA2LS4wNWwtLjc5NS0yLjIzNWMtLjIwNy0uMDcxLS40MDgtLjE1LS42MDItLjI0N2wtMi4xNCAxLjAxN2MtLjQyNC0uMzM2LS44MDctLjcxOS0xLjE0My0xLjE0M2wxLjAxNy0yLjEzOWMtLjA5NC0uMTkzLS4xNzUtLjM5My0uMjQ1LS42bC0yLjIzNi0uNzk2Yy0uMDMtLjI2NS0uMDUtLjUzNC0uMDUtLjgwN3MuMDItLjU0Mi4wNS0uODA3bDIuMjM2LS43OTVjLjA3LS4yMDcuMTUtLjQwNy4yNDYtLjYwMWwtMS4wMTYtMi4xMzljLjMzNi0uNDIzLjcxOS0uODA3IDEuMTQzLTEuMTQybDIuMTQgMS4wMTdjLjE5My0uMDk2LjM5NC0uMTc2LjYwMi0uMjQ3bC43OTMtMi4yMzZjLjI2NS0uMDMuNTM0LS4wNS44MDYtLjA1LjI3MyAwIC41NDIuMDIuODA4LjA1bC43OTUgMi4yMzZjLjIwNy4wNy40MDcuMTUuNjAxLjI0NmwyLjE0LTEuMDE3Yy40MjQuMzM1LjgwNy43MTkgMS4xNDIgMS4xNDJsLTEuMDE3IDIuMTM5Yy4wOTYuMTk0LjE3Ni4zOTQuMjQ2LjYwMWwyLjIzNi43OTVjLjAyOS4yNjYuMDQ5LjUzNS4wNDkuODA4cy0uMDIuNTQyLS4wNS44MDdsLTIuMjM2Ljc5NnptLTQuNzE0LTQuNjAzYy0xLjY1NyAwLTMgMS4zNDMtMyAzczEuMzQzIDMgMyAzIDMtMS4zNDMgMy0zLTEuMzQzLTMtMy0zeiIvPjxjaXJjbGUgY3g9IjgiIGN5PSI4IiByPSIxLjUiLz48L2c+PC9zdmc+Cg==\"","module.exports = \"data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi4tLT4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiI+PGcgZmlsbD0iIzQyNDI0MiI+PHBhdGggZD0iTTEyLjcxNCA5LjYwM2MtLjA3LjIwNy0uMTUuNDA3LS4yNDYuNjAxbDEuMDE3IDIuMTM5Yy0uMzM1LjQyNC0uNzE4LjgwNy0xLjE0MiAxLjE0M2wtMi4xNC0xLjAxOGMtLjE5My4wOTctLjM5NC4xNzYtLjYwMS4yNDdsLS43OTUgMi4yMzVjLS4yNjUuMDMtLjUzNC4wNS0uODA3LjA1LS4yNzIgMC0uNTQxLS4wMi0uODA2LS4wNWwtLjc5NS0yLjIzNWMtLjIwNy0uMDcxLS40MDgtLjE1LS42MDItLjI0N2wtMi4xNCAxLjAxN2MtLjQyNC0uMzM2LS44MDctLjcxOS0xLjE0My0xLjE0M2wxLjAxNy0yLjEzOWMtLjA5NC0uMTkzLS4xNzUtLjM5My0uMjQ1LS42bC0yLjIzNi0uNzk2Yy0uMDMtLjI2NS0uMDUtLjUzNC0uMDUtLjgwN3MuMDItLjU0Mi4wNS0uODA3bDIuMjM2LS43OTVjLjA3LS4yMDcuMTUtLjQwNy4yNDYtLjYwMWwtMS4wMTYtMi4xMzljLjMzNi0uNDIzLjcxOS0uODA3IDEuMTQzLTEuMTQybDIuMTQgMS4wMTdjLjE5My0uMDk2LjM5NC0uMTc2LjYwMi0uMjQ3bC43OTMtMi4yMzZjLjI2NS0uMDMuNTM0LS4wNS44MDYtLjA1LjI3MyAwIC41NDIuMDIuODA4LjA1bC43OTUgMi4yMzZjLjIwNy4wNy40MDcuMTUuNjAxLjI0NmwyLjE0LTEuMDE3Yy40MjQuMzM1LjgwNy43MTkgMS4xNDIgMS4xNDJsLTEuMDE3IDIuMTM5Yy4wOTYuMTk0LjE3Ni4zOTQuMjQ2LjYwMWwyLjIzNi43OTVjLjAyOS4yNjYuMDQ5LjUzNS4wNDkuODA4cy0uMDIuNTQyLS4wNS44MDdsLTIuMjM2Ljc5NnptLTQuNzE0LTQuNjAzYy0xLjY1NyAwLTMgMS4zNDMtMyAzczEuMzQzIDMgMyAzIDMtMS4zNDMgMy0zLTEuMzQzLTMtMy0zeiIvPjxjaXJjbGUgY3g9IjgiIGN5PSI4IiByPSIxLjUiLz48L2c+PC9zdmc+Cg==\"","\nvar content = require(\"!!../../../../../css-loader/index.js!./index.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/index.js!./index.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/index.js!./index.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/********************************************************************************\n * Copyright (C) 2019 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/*\n * copied from\n * https://github.com/microsoft/vscode/blob/0a34756cae4fc67739e60c708b04637089f8bb0d/src/vs/workbench/services/configurationResolver/common/configurationResolverSchema.ts#L23\n */\n\nconst idDescription = \"The input's id is used to associate an input with a variable of the form ${input:id}.\";\nconst typeDescription = 'The type of user input prompt to use.';\nconst descriptionDescription = 'The description is shown when the user is prompted for input.';\nconst defaultDescription = 'The default value for the input.';\n\nimport { IJSONSchema } from '@theia/core/lib/common/json-schema';\n\nexport const inputsSchema: IJSONSchema = {\n    definitions: {\n        inputs: {\n            type: 'array',\n            description: 'User inputs. Used for defining user input prompts, such as free string input or a choice from several options.',\n            items: {\n                oneOf: [\n                    {\n                        type: 'object',\n                        required: ['id', 'type', 'description'],\n                        additionalProperties: false,\n                        properties: {\n                            id: {\n                                type: 'string',\n                                description: idDescription\n                            },\n                            type: {\n                                type: 'string',\n                                description: typeDescription,\n                                enum: ['promptString'],\n                                enumDescriptions: [\n                                    \"The 'promptString' type opens an input box to ask the user for input.\"\n                                ]\n                            },\n                            description: {\n                                type: 'string',\n                                description: descriptionDescription\n                            },\n                            default: {\n                                type: 'string',\n                                description: defaultDescription\n                            },\n                        }\n                    },\n                    {\n                        type: 'object',\n                        required: ['id', 'type', 'description', 'options'],\n                        additionalProperties: false,\n                        properties: {\n                            id: {\n                                type: 'string',\n                                description: idDescription\n                            },\n                            type: {\n                                type: 'string',\n                                description: typeDescription,\n                                enum: ['pickString'],\n                                enumDescriptions: [\n                                    \"The 'pickString' type shows a selection list.\",\n                                ]\n                            },\n                            description: {\n                                type: 'string',\n                                description: descriptionDescription\n                            },\n                            default: {\n                                type: 'string',\n                                description: defaultDescription\n                            },\n                            options: {\n                                type: 'array',\n                                description: 'An array of strings that defines the options for a quick pick.',\n                                items: {\n                                    type: 'string'\n                                }\n                            }\n                        }\n                    },\n                    {\n                        type: 'object',\n                        required: ['id', 'type', 'command'],\n                        additionalProperties: false,\n                        properties: {\n                            id: {\n                                type: 'string',\n                                description: idDescription\n                            },\n                            type: {\n                                type: 'string',\n                                description: typeDescription,\n                                enum: ['command'],\n                                enumDescriptions: [\n                                    \"The 'command' type executes a command.\",\n                                ]\n                            },\n                            command: {\n                                type: 'string',\n                                description: 'The command to execute for this input variable.'\n                            },\n                            args: {\n                                type: 'object',\n                                description: 'Optional arguments passed to the command.'\n                            }\n                        }\n                    }\n                ]\n            }\n        }\n    }\n};\n","var escape = require(\"../../../../../css-loader/lib/url/escape.js\");\nexports = module.exports = require(\"../../../../../css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/********************************************************************************\\n * Copyright (C) 2019 Red Hat, Inc. and others.\\n *\\n * This program and the accompanying materials are made available under the\\n * terms of the Eclipse Public License v. 2.0 which is available at\\n * http://www.eclipse.org/legal/epl-2.0.\\n *\\n * This Source Code may also be made available under the following Secondary\\n * Licenses when the conditions for such availability set forth in the Eclipse\\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\\n * with the GNU Classpath Exception which is available at\\n * https://www.gnu.org/software/classpath/license.html.\\n *\\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\\n ********************************************************************************/\\n\\n .quick-open-task-configure-dark {\\n    background-image: url(\" + escape(require(\"./configure-inverse.svg\")) + \");\\n    background-position-y: -2px;\\n}\\n\\n.quick-open-task-configure-bright {\\n    background-image: url(\" + escape(require(\"./configure.svg\")) + \");\\n    background-position-y: -2px;\\n}\\n\", \"\"]);\n\n// exports\n","'use strict';\n\nconst pDebounce = (fn, wait, options = {}) => {\n\tif (!Number.isFinite(wait)) {\n\t\tthrow new TypeError('Expected `wait` to be a finite number');\n\t}\n\n\tlet leadingValue;\n\tlet timer;\n\tlet resolveList = [];\n\n\treturn function (...arguments_) {\n\t\treturn new Promise(resolve => {\n\t\t\tconst runImmediately = options.leading && !timer;\n\n\t\t\tclearTimeout(timer);\n\n\t\t\ttimer = setTimeout(() => {\n\t\t\t\ttimer = null;\n\n\t\t\t\tconst result = options.leading ? leadingValue : fn.apply(this, arguments_);\n\n\t\t\t\tfor (resolve of resolveList) {\n\t\t\t\t\tresolve(result);\n\t\t\t\t}\n\n\t\t\t\tresolveList = [];\n\t\t\t}, wait);\n\n\t\t\tif (runImmediately) {\n\t\t\t\tleadingValue = fn.apply(this, arguments_);\n\t\t\t\tresolve(leadingValue);\n\t\t\t} else {\n\t\t\t\tresolveList.push(resolve);\n\t\t\t}\n\t\t});\n\t};\n};\n\nmodule.exports = pDebounce;\n// TODO: Remove this for the next major release\nmodule.exports.default = pDebounce;\n"],"sourceRoot":""}